function tmgAdsInit(){try{tmgAdsEvent("tmggpt-init:start"),tmgAds.plugins={timeouts:[],gpt:{name:"gpt",id:"google-gpt-lib",active:!0,type:"js",networkid:6582,servername:"ad.doubleclick.net",async:!0,enableSingleRequest:!1,enableAsyncRendering:!0,collapseEmptyDivs:!0,setLocation:!1,vastOutputVersion:"xml_vast3",url:"https://www.googletagservices.com/tag/js/gpt.js",geoapi:{precision:2e4,watching:!1,test:"string"},useppid:!0,location:"HEAD",domains:["all"],timeout:2e3,preloadFn:function(){},onloadFn:function(){},timeoutFn:function(){},onerrorFn:function(){},ignoreFn:function(){}},blockdomain:["chase.telegraph.co.uk","cms1.aem-dev1.awspreprod.telegraph.co.uk","cms1.aem-dev2.awspreprod.telegraph.co.uk","cms1.aem-dev3.awspreprod.telegraph.co.uk","cms1.aem-dev4.awspreprod.telegraph.co.uk","cms1.aem-dev5.awspreprod.telegraph.co.uk","cms1.aem-dev6.awspreprod.telegraph.co.uk","cms1.aem-dev7.awspreprod.telegraph.co.uk","cms1.aem-dev8.awspreprod.telegraph.co.uk","cms1.aem-dev9.awspreprod.telegraph.co.uk","cms1.aem-dev10.awspreprod.telegraph.co.uk","cms1.aem-dev11.awspreprod.telegraph.co.uk","cms1.aem-dev12.awspreprod.telegraph.co.uk","cms1.aem-test1.awspreprod.telegraph.co.uk","cms1.aem-test2.awspreprod.telegraph.co.uk","cms1.aem-test3.awspreprod.telegraph.co.uk","cms1.aem-test4.awspreprod.telegraph.co.uk","cms1.aem-test5.awspreprod.telegraph.co.uk","cms1.aem-test6.awspreprod.telegraph.co.uk","cms1.aem-editorial1.awspreprod.telegraph.co.uk","cms1.aem-editorial2.awspreprod.telegraph.co.uk","cms1.aem-nitro1.awspreprod.telegraph.co.uk","cms1.aem-demo.awspreprod.telegraph.co.uk","cms1.aem-perf1.awspreprod.telegraph.co.uk","cms1.aem-perf2.awspreprod.telegraph.co.uk"],test:{active:!1,status:!1,async:!1,url:"//adtools.telegraph.co.uk/tools/delay/?delay=4&type=js"},refurl:{active:!0},sizemapping:{x:{size:[1280,768],ban:[[970,250],[940,250],[900,250],[1,1],"fluid"],boa:[[970,250],[970,90],[970,66],[940,250],[900,250],[728,90],[1,1],"fluid"],bin:[[970,250],[970,90],[970,66],[940,250],[900,250],[728,90],[1,1],"fluid"],bbt:[[970,250],[970,90],[970,66],[940,250],[900,250],[728,90],[1,1],"fluid"],bbb:[[970,250],[970,90],[970,66],[940,250],[900,250],[728,90],[1,1],"fluid"],myb:[[970,250],[970,90],[970,66],[940,250],[900,250],[728,90],[1,1],"fluid"],gad:[[970,250],[940,250],[1,1],"fluid"],mpu:[[300,600],[300,250],[300,215],[300,189],[1,1],"fluid"],hpg:[[300,600],[300,250],[300,215],[300,189],[160,600],[120,600],[1,1],"fluid"],mob:[[300,250],[300,215],[300,189],[320,100],[320,50],[300,50],[1,1],"fluid"],dyn:[[300,250],[640,360],[1,1],"fluid"],lmpu:[[300,250],[300,215],[300,189],[1,1],"fluid"],nat:[[1,1],"fluid"],yel:[3,3],inr:[1,1],tmg:[1,1],ftr:[1,1],vid:"620x415"},l:{size:[1024,768],ban:[[970,250],[940,250],[900,250],[1,1],"fluid"],boa:[[970,250],[970,90],[970,66],[940,250],[900,250],[728,90],[1,1],"fluid"],bin:[[970,250],[970,90],[970,66],[940,250],[900,250],[728,90],[1,1],"fluid"],bbt:[[970,250],[970,90],[970,66],[940,250],[900,250],[728,90],[1,1],"fluid"],bbb:[[970,250],[970,90],[970,66],[940,250],[900,250],[728,90],[1,1],"fluid"],gad:[[970,250],[940,250],[1,1],"fluid"],myb:[[970,250],[970,90],[970,66],[940,250],[900,250],[728,90],[1,1],"fluid"],mpu:[[300,600],[300,250],[300,215],[300,189],[1,1],"fluid"],hpg:[[300,600],[300,250],[300,215],[300,189],[160,600],[120,600],[1,1],"fluid"],mob:[[300,250],[300,215],[300,189],[320,100],[320,50],[300,50],[1,1],"fluid"],dyn:[[300,250],[640,360],[1,1],"fluid"],lmpu:[[300,250],[300,215],[300,189],[1,1],"fluid"],nat:[[1,1],"fluid"],yel:[3,3],inr:[1,1],tmg:[1,1],ftr:[1,1],vid:"620x415"},m:{size:[768,480],ban:[[728,90],[1,1],"fluid"],bin:[[728,90],[1,1],"fluid"],boa:[[728,90],[1,1],"fluid"],bbt:[[728,90],[1,1],"fluid"],bbb:[[728,90],[1,1],"fluid"],gad:[[300,250],[1,1],"fluid"],myb:[[728,90],[1,1],"fluid"],mpu:[[300,250],[300,215],[300,189],[1,1],"fluid"],hpg:[[300,250],[300,215],[300,189],[1,1],"fluid"],mob:[[300,250],[300,215],[300,189],[320,100],[320,50],[300,50],[1,1],"fluid"],dyn:[[640,360],[300,250],[300,215],[300,189],[320,50],[300,50],[1,1],"fluid"],lmpu:[[300,250],[300,215],[300,189],[1,1],"fluid"],nat:[[1,1],"fluid"],yel:[3,3],inr:[1,1],tmg:[1,1],ftr:[1,1],vid:"620x415"},s:{size:[480,320],ban:[[300,250],[300,215],[300,189],[320,100],[320,50],[300,50],[1,1],"fluid"],bin:[[300,250],[300,215],[300,189],[320,100],[320,50],[300,50],[1,1],"fluid"],boa:[[300,250],[300,215],[300,189],[320,100],[320,50],[300,50],[1,1],"fluid"],bbt:[[300,250],[300,215],[300,189],[320,100],[320,50],[300,50],[1,1],"fluid"],bbb:[[300,250],[300,215],[300,189],[320,100],[320,50],[300,50],[1,1],"fluid"],myb:[[300,250],[300,215],[300,189],[320,100],[320,50],[300,50],[1,1],"fluid"],gad:[[300,250],[1,1],"fluid"],mpu:[[300,250],[300,215],[300,189],[320,100],[320,50],[300,50],[1,1],"fluid"],hpg:[[300,250],[300,215],[300,189],[320,100],[320,50],[300,50],[1,1],"fluid"],mob:[[300,250],[300,215],[300,189],[320,100],[320,50],[300,50],[1,1],"fluid"],dyn:[[640,360],[300,250],[300,215],[300,189],[1,1],"fluid"],lmpu:[[300,250],[300,215],[300,189],[1,1],"fluid"],nat:[[1,1],"fluid"],yel:[3,3],inr:[1,1],tmg:[1,1],ftr:[1,1],vid:"300x235"},xs:{size:[0,0],ban:[[300,250],[300,215],[300,189],[320,100],[320,50],[300,50],[1,1],"fluid"],bin:[[300,250],[300,215],[300,189],[320,100],[320,50],[300,50],[1,1],"fluid"],boa:[[300,250],[300,215],[300,189],[320,100],[320,50],[300,50],[1,1],"fluid"],bbt:[[300,250],[300,215],[300,189],[320,100],[320,50],[300,50],[1,1],"fluid"],bbb:[[300,250],[300,215],[300,189],[320,100],[320,50],[300,50],[1,1],"fluid"],gad:[[300,250],[1,1],"fluid"],myb:[[300,250],[300,215],[300,189],[320,100],[320,50],[300,50],[1,1],"fluid"],mpu:[[300,250],[300,215],[300,189],[320,100],[320,50],[300,50],[1,1],"fluid"],hpg:[[300,250],[300,215],[300,189],[320,100],[320,50],[300,50],[1,1],"fluid"],mob:[[300,250],[300,215],[300,189],[320,100],[320,50],[300,50],[1,1],"fluid"],dyn:[[640,360],[300,250],[300,215],[300,189],[320,50],[300,50],[1,1],"fluid"],lmpu:[[300,250],[300,215],[300,189],[1,1],"fluid"],nat:[[1,1],"fluid"],yel:[3,3],inr:[1,1],tmg:[1,1],ftr:[1,1],vid:"300x235"},default:{size:[0,0],ban:[[970,250],[940,250],[900,250],[1,1],"fluid"],bin:[[970,250],[970,90],[970,66],[940,250],[900,250],[728,90],[1,1],"fluid"],boa:[[970,250],[970,90],[970,66],[940,250],[900,250],[728,90],[1,1],"fluid"],bbt:[[970,250],[970,90],[970,66],[940,250],[900,250],[728,90],[1,1],"fluid"],bbb:[[970,250],[970,90],[970,66],[940,250],[900,250],[728,90],[1,1],"fluid"],gad:[[970,250],[970,90],[970,66],[940,250],[900,250],[728,90],[1,1],"fluid"],myb:[[970,250],[970,90],[970,66],[940,250],[900,250],[728,90],[1,1],"fluid"],mpu:[[300,600],[300,250],[300,215],[300,189],[1,1],"fluid"],hpg:[[300,600],[300,250],[300,215],[300,189],[160,600],[120,600],[1,1],"fluid"],mob:[[300,250],[320,100],[300,215],[300,189],[320,50],[300,50],[1,1],"fluid"],dyn:[[640,360],[300,250],[300,215],[300,189],[320,50],[300,50],[1,1],"fluid"],lmpu:[[300,250],[300,215],[300,189],[1,1],"fluid"],nat:[[1,1],"fluid"],yel:[3,3],inr:[1,1],tmg:[1,1],ftr:[1,1],vid:"620x415"}},adiesticky:tmgAdsGetURLParam("adiesticky",window.location.search),adtest:tmgAdsGetURLParam("adtest",window.location.search),adteston:tmgAdsGetURLParam("adteston",window.location.search),adconsole:tmgAdsGetURLParam("adconsole",window.location.search),adkill:tmgAdsGetURLParam("adkill",window.location.search),adgptoff:tmgAdsGetURLParam("adgptoff",window.location.search),adviewability:tmgAdsGetURLParam("adviewability",window.location.search),advast4:tmgAdsGetURLParam("advast4",window.location.search),adhbon:tmgAdsGetURLParam("adhbon",window.location.search),adhboff:tmgAdsGetURLParam("adhboff",window.location.search),adprebidon:tmgAdsGetURLParam("adprebidon",window.location.search),adprebidoff:tmgAdsGetURLParam("adprebidoff",window.location.search),adstickyon:tmgAdsGetURLParam("adstickyon",window.location.search),adstickyoff:tmgAdsGetURLParam("adstickyoff",window.location.search),adnativeon:tmgAdsGetURLParam("adnativeon",window.location.search),adnativeoff:tmgAdsGetURLParam("adnativeoff",window.location.search),counters:20,tmgcookies:{active:!0},performance:{active:!0,supported:"unknown"},chartbeat:{active:!1},targetTests:{tests:{rejectors:{testid:20047610,control:20047600}},rejectors:{stickyban:!1,desktopdyn:!0,mobindex:!0}},lazyLoad:{xs:{active:!0,offset:-250,delayCall:150,geo:[],channels:[],lazy:["all"],exempt:["advert_tmg_ban","advert_tmg_inr","advert_tmg_ftr","advert_tmg_tmg","advert_tmg_nat_story_outbrain"]},s:{active:!0,offset:-250,delayCall:150,geo:[],channels:[],lazy:["all"],exempt:["advert_tmg_ban","advert_tmg_inr","advert_tmg_ftr","advert_tmg_tmg","advert_tmg_nat_story_outbrain"]},m:{active:!0,offset:-250,delayCall:150,geo:[],channels:[],lazy:["all"],exempt:["advert_tmg_ban","advert_tmg_inr","advert_tmg_ftr","advert_tmg_tmg","advert_tmg_nat_story_outbrain"]},l:{active:!0,offset:-750,delayCall:150,geo:[],channels:[],lazy:["all"],exempt:["advert_tmg_ban","advert_tmg_inr","advert_tmg_ftr","advert_tmg_tmg","advert_tmg_nat_story_outbrain"]},x:{active:!0,offset:-750,delayCall:150,geo:[],channels:[],lazy:["all"],exempt:["advert_tmg_ban","advert_tmg_inr","advert_tmg_ftr","advert_tmg_tmg","advert_tmg_nat_story_outbrain"]}},dynad:{active:!0,viewports:["xs","s","m","l","x"],styling:{title:"#EEEEEE",titleText:"#444444",body:"#F5F5F5"},config:{web:{story:{x:{firstAd:750,otherAd:750,minParaChars:150,minChars:150,maxAds:1},l:{firstAd:750,otherAd:750,minParaChars:150,minChars:150,maxAds:1},m:{firstAd:750,otherAd:750,minParaChars:150,minChars:150,maxAds:50},s:{firstAd:750,otherAd:750,minParaChars:150,minChars:150,maxAds:50},xs:{firstAd:750,otherAd:750,minParaChars:150,minChars:150,maxAds:50}},video:{x:{firstAd:750,otherAd:750,minParaChars:150,minChars:150,maxAds:1},l:{firstAd:750,otherAd:750,minParaChars:150,minChars:150,maxAds:1},m:{firstAd:750,otherAd:750,minParaChars:150,minChars:150,maxAds:50},s:{firstAd:750,otherAd:750,minParaChars:150,minChars:150,maxAds:50},xs:{firstAd:750,otherAd:750,minParaChars:150,minChars:150,maxAds:50}},live:{x:{firstAd:750,otherAd:1875,minParaChars:150,minChars:150,maxAds:1},l:{firstAd:750,otherAd:1875,minParaChars:150,minChars:150,maxAds:1},m:{firstAd:750,otherAd:1875,minParaChars:500,minChars:150,maxAds:50},s:{firstAd:750,otherAd:1500,minParaChars:500,minChars:150,maxAds:50},xs:{firstAd:750,otherAd:1500,minParaChars:500,minChars:150,maxAds:50}}},app:{story:{x:{firstAd:850,otherAd:1e3,minParaChars:150,minChars:150,maxAds:1},l:{firstAd:850,otherAd:1e3,minParaChars:150,minChars:150,maxAds:1},m:{firstAd:850,otherAd:1e3,minParaChars:150,minChars:150,maxAds:50},s:{firstAd:850,otherAd:1e3,minParaChars:150,minChars:150,maxAds:50},xs:{firstAd:850,otherAd:1e3,minParaChars:150,minChars:150,maxAds:50}},video:{x:{firstAd:850,otherAd:1e3,minParaChars:150,minChars:150,maxAds:1},l:{firstAd:850,otherAd:1e3,minParaChars:150,minChars:150,maxAds:1},m:{firstAd:850,otherAd:1e3,minParaChars:150,minChars:150,maxAds:50},s:{firstAd:850,otherAd:1e3,minParaChars:150,minChars:150,maxAds:50},xs:{firstAd:850,otherAd:1e3,minParaChars:150,minChars:150,maxAds:50}},live:{x:{firstAd:850,otherAd:2500,minParaChars:150,minChars:150,maxAds:1},l:{firstAd:850,otherAd:2500,minParaChars:150,minChars:150,maxAds:1},m:{firstAd:850,otherAd:2500,minParaChars:500,minChars:150,maxAds:50},s:{firstAd:850,otherAd:2e3,minParaChars:500,minChars:150,maxAds:50},xs:{firstAd:850,otherAd:2e3,minParaChars:500,minChars:150,maxAds:50}}}}},newadtests:[],mytelegraph:{isActive:!0,isApplied:!1,isPlatform:"unknown",active:function(){return void 0!==tmgAds.mytelegraph&&tmgAds.mytelegraph},exempt:["sponsored","commerce","about-us","events","financial-services","promotions"],refreshPeriod:20,refreshLimit:2e3,refreshCount:0},adobe:{active:!0,tmgCookieName:"AAMDFP",aamCookieName:"aam",dfpKeyName:"aamseg"},adomik:{active:!0,getAdGroup:function(){var e=Math.random();switch(!1){case!(e<.09):return"ad_ex"+Math.floor(100*e);case!(e<.1):return"ad_bc";default:return"ad_opt"}}},adSlotRefresh:{active:!0,retryPeriod:500,retryLimit:30,retryCount:0,exemptAdSlots:["gad","nat","boa","bbt","bbb","dyn","tmg","inr","opt","ftr"],pagetypes:["index","topic","story","live","video","gallery"]},oopunits:["tmg","inr","int","opt","ftr"],permutive:{name:"permutive",id:"e8eaf546-a7b4-4d26-bc0a-3a71131d21c3",active:!0,status:"init",type:"js",url:"https://cdn.permutive.com/e8eaf546-a7b4-4d26-bc0a-3a71131d21c3-web.js",location:"HEAD",domains:tmgAds.prodServers.concat(tmgAds.appServers),timeout:1e3,preloadFn:function(){tmgAds.plugins.permutive.status="preload",function(e,t,s,d,i){if(!t){t=t||{},window.permutive=t,t.q=[],t.config={}||{},t.config.projectId="e8eaf546-a7b4-4d26-bc0a-3a71131d21c3",t.config.apiKey="d0ad7082-d741-4059-848f-e8d3a8aae2f0",t.config.environment=t.config.environment||"production";for(var a=["addon","identify","track","trigger","query","segment","segments","ready","on","once","user","consent"],n=0;n<a.length;n++){var o=a[n];t[o]=function(e){return function(){var s=Array.prototype.slice.call(arguments,0);t.q.push({functionName:e,arguments:s})}}(o)}}}(document,window.permutive),void 0!==tmgAds.tmg.pid&&window.permutive.identify([{id:tmgAds.tmg.pid,tag:"PID"}]),tmgAds.plugins.permutive.addonObj={page:{article:{businessSegment:tmgAds.page.businessseg,channel:tmgAds.page.zone,headline:tmgAds.page.dataLayer.pageName.replace(/\\/g,""),type:tmgAds.page.pagetype,keywords:tmgAds.page.keywords,grapeshot:tmgAds.grapeshot.dfp},sponsored:{isSponsored:tmgAds.page.site},user:{status:JSON.stringify(tmgAds.tmg.isLoggedIn),subscription:tmgAds.tmg.userState}}},permutive.addon("web",tmgAds.plugins.permutive.addonObj)},onloadFn:function(){},timeoutFn:function(){},onerrorFn:function(){},ignoreFn:function(){}},grapeshot:{name:"grapeshot",active:!0,status:"init",type:"js",url:tmgAdsGetURLParam("gstesturl")?"https://telegraph.gscontxt.net/main/channels.cgi?url="+location.origin+location.pathname:"https://telegraph.grapeshot.co.uk/main/channels.cgi?url="+(tmgAds.appServers.indexOf(window.location.host)>=0?"https://www.telegraph.co.uk"+location.pathname:location.origin+location.pathname),location:"HEAD",domains:tmgAds.prodServers.concat(tmgAds.appServers),timeout:2e3,preloadFn:function(){},onloadFn:function(){"status_undefined"!=typeof window.gs_channels&&Array.isArray(window.gs_channels)?(window.tmgAds.grapeshot={raw:window.gs_channels,dfp:window.gs_channels.toString().split(",")},window.tmgAds.grapeshot.dfp.unshift("status_success"),tmgAdsLog("GRAPESHOT: window.gs_channels exists :: Num of channls ="+window.tmgAds.grapeshot.dfp.length+" :: Content = "+window.tmgAds.grapeshot.dfp.toString())):"status_undefined"!=typeof window.gs_channels?(window.tmgAds.grapeshot={raw:window.gs_channels,dfp:window.gs_channels.split(",")},window.tmgAds.grapeshot.dfp.unshift("status_success"),tmgAdsLog("GRAPESHOT: window.gs_channels exists :: Num of channls ="+window.tmgAds.grapeshot.dfp.length+" :: Content = "+window.tmgAds.grapeshot.dfp.toString())):(window.tmgAds.grapeshot={raw:"status_no_gs_channels",dfp:["status_no_gs_channels"]},tmgAdsLog("GRAPESHOT: window.gs_channels does not exist:"))},timeoutFn:function(){window.gs_channels="status_timeout",window.tmgAds.grapeshot={raw:window.gs_channels,dfp:[window.gs_channels]}},errorFn:function(){window.gs_channels="status_error",window.tmgAds.grapeshot={raw:window.gs_channels,dfp:[window.gs_channels]}},ignoreFn:function(){window.gs_channels="status_ignore",window.tmgAds.grapeshot={raw:window.gs_channels,dfp:[window.gs_channels]}}},dynamicads:{active:!0,date:"2020-01-07",counters:{},exclude:["subscriptions","rewards"],ads:[{id:"nat_story_logo",active:!1,testParam:!1,cms:["aem"],pagetypes:["story","live","video"],rendertypes:["all"],storytypes:["all"],fullWidth:!1,addTitle:!1,viewports:["all"],userstate:["all"],section:{include:["all"],exclude:[]},geo:{include:["all"],exclude:[]},selector:".header-breadcrumbs__list",position:"after",style:"",poscount:0},{id:"nat_story_sidebar",active:!0,testParam:!1,cms:["aem"],pagetypes:["story","live","video"],rendertypes:["all"],storytypes:["all"],fullWidth:!1,addTitle:!1,viewports:["l","x"],userstate:["all"],section:{include:["all"],exclude:[]},geo:{include:["all"],exclude:[]},selector:".article__sidebar .social-follow",position:"before",style:"",poscount:0},{id:"nat_story_sidebar",active:!0,testParam:!1,cms:["aem"],pagetypes:["bare"],rendertypes:["all"],storytypes:["all"],fullWidth:!1,addTitle:!1,viewports:["l","x"],userstate:["all"],section:{include:["all"],exclude:[]},geo:{include:["all"],exclude:[]},selector:".side .side--related",position:"after",style:"",poscount:0},{id:"nat_story_sparkbrain_1",active:!0,testParam:!1,cms:["aem"],pagetypes:["story","live","video"],rendertypes:["all"],storytypes:["all"],fullWidth:!1,addTitle:!1,viewports:["all"],userstate:["all"],section:{include:["all"],exclude:[]},geo:{include:["all"],exclude:[]},selector:".article__spark #polar-ad-article-bottom",position:"before",style:"",poscount:0},{id:"nat_story_outbrain",active:!0,testParam:!1,cms:["aem"],pagetypes:["story","live","video"],rendertypes:["all"],storytypes:["all"],fullWidth:!1,addTitle:!1,viewports:["all"],userstate:["all"],section:{include:["all"],exclude:[]},geo:{include:["all"],exclude:["gb"]},selector:".article__spark #polar-ad-article-bottom",position:"before",style:"",poscount:0},{id:"nat_story_sparkbrain_2",active:!0,testParam:!1,cms:["aem"],pagetypes:["story","live","video"],rendertypes:["all"],storytypes:["all"],fullWidth:!1,addTitle:!1,viewports:["all"],userstate:["all"],section:{include:["all"],exclude:[]},geo:{include:["all"],exclude:[]},selector:".article__spark #polar-ad-article-bottom",position:"after",style:"",poscount:0},{id:"bbt",active:!1,testParam:!1,cms:["aem"],pagetypes:["story","live","video"],rendertypes:["all"],storytypes:["all"],fullWidth:!1,addTitle:!1,viewports:["l","x"],userstate:["all"],section:{include:["all"],exclude:[]},geo:{include:["all"],exclude:[]},selector:".snippet-onward-journey",position:"before",style:"",poscount:0},{id:"bbb",active:!0,testParam:!1,cms:["aem"],pagetypes:["story","live","video"],rendertypes:["all"],storytypes:["all"],fullWidth:!1,addTitle:!1,viewports:["l","x","s","xs"],userstate:["all"],section:{include:["all"],exclude:[]},geo:{include:["all"],exclude:[]},selector:".snippet-onward-journey",position:"after",style:"",poscount:0},{id:"nat_story_list_onward_mob",active:!0,testParam:!1,cms:["aem"],pagetypes:["story","live","video"],rendertypes:["all"],storytypes:["all"],fullWidth:!1,addTitle:!1,viewports:["s","xs"],userstate:["all"],section:{include:["all"],exclude:[]},geo:{include:["all"],exclude:[]},selector:".article__related .list:last-child .list-of-entities__container",style:"",list:{position:6,repeat:!0}},{id:"nat_story_bottom",active:!0,testParam:!1,cms:["aem"],pagetypes:["story","live","video"],rendertypes:["all"],storytypes:["all"],fullWidth:!1,addTitle:!1,viewports:["all"],userstate:["all"],section:{include:["all"],exclude:[]},geo:{include:["all"],exclude:[]},selector:".listOfTags",style:"",position:"before"},{id:"nat_story_sparkbrain_1",active:!0,testParam:!1,cms:["aem"],pagetypes:["gallery"],rendertypes:["all"],storytypes:["all"],fullWidth:!1,addTitle:!1,viewports:["all"],userstate:["all"],section:{include:["all"],exclude:[]},geo:{include:["all"],exclude:[]},selector:".article__spark #polar-ad-article-bottom",position:"before",style:"",poscount:0},{id:"nat_story_outbrain",active:!0,testParam:!1,cms:["aem"],pagetypes:["gallery"],rendertypes:["all"],storytypes:["all"],fullWidth:!1,addTitle:!1,viewports:["all"],userstate:["all"],section:{include:["all"],exclude:[]},geo:{include:["all"],exclude:["gb"]},selector:".article__spark #polar-ad-article-bottom",position:"before",style:"",poscount:0},{id:"nat_story_sparkbrain_2",active:!0,testParam:!1,cms:["aem"],pagetypes:["gallery"],rendertypes:["all"],storytypes:["all"],fullWidth:!1,addTitle:!1,viewports:["all"],userstate:["all"],section:{include:["all"],exclude:[]},geo:{include:["all"],exclude:[]},selector:".article__spark #polar-ad-article-bottom",position:"after",style:"",poscount:0},{id:"bbb",active:!1,testParam:!1,cms:["escenic"],pagetypes:["story"],rendertypes:["all"],storytypes:["all"],fullWidth:!1,addTitle:!1,viewports:["l","x","m","s","xs"],userstate:["all"],section:{include:["all"],exclude:[]},geo:{include:["all"],exclude:[]},selector:".backtotop",position:"after",style:"margin-top:10px; margin-bottom:10px;",poscount:0},{id:"nat_story_top",active:!0,testParam:!1,cms:["aem"],pagetypes:["story","live","video"],rendertypes:["articleRenderer2"],storytypes:["all"],fullWidth:!1,addTitle:!1,viewports:["all"],userstate:["all"],section:{include:["all"],exclude:[]},geo:{include:["all"],exclude:[]},selector:".hero-area-wrapper",position:"after",style:"",poscount:0},{id:"nat_story_top",active:!0,debug:!1,testParam:!1,cms:["aem"],pagetypes:["story","live","video"],rendertypes:["articleRenderer","liveBlogRenderer"],storytypes:["all"],fullWidth:!1,addTitle:!1,viewports:["xs","s","m","l","x"],userstate:["all"],section:{include:["sport"],exclude:[]},geo:{include:["all"],exclude:[]},selector:function(e){var t=document.getElementsByClassName("article-betting-unit-container")[0];if(t){var s=document.createElement("div");s.id="advert_tmg_nat_story_top",s.style.opacity="1",s.style.height="auto",s.classList.add("js-advert"),s.classList.add("advert"),s.setAttribute("data_adtype","nat_story_top"),s.setAttribute("data_ad-slot-hidden","false"),s.setAttribute("data-ad-slot-id",s.id),s.setAttribute("data-ad-slot-perf","tbd"),t.appendChild(s)}},position:"",style:"",poscount:0},{id:"nat_story_top",active:!0,testParam:!1,cms:["aem"],pagetypes:["story","live","video"],rendertypes:["articleRenderer"],storytypes:["all"],fullWidth:!1,addTitle:!1,viewports:["xs","s","m","l","x"],userstate:["all"],section:{include:["all"],exclude:["sport"]},geo:{include:["all"],exclude:[]},selector:".article-body-text",position:"before",style:"",poscount:0},{id:"nat_story_sidebar",active:!1,testParam:!1,cms:["aem"],pagetypes:["story","live","video"],rendertypes:["articleRenderer"],storytypes:["all"],fullWidth:!1,addTitle:!1,viewports:["l","x"],userstate:["all"],section:{include:["all"],exclude:[]},geo:{include:["all"],exclude:[]},selector:".commercial-unit.commercial-unit--sidebar",position:"before",style:"margin-top:10px;",poscount:0},{id:"nat_story_newarticle_1",active:!0,testParam:!1,cms:["aem"],pagetypes:["story","live","video"],rendertypes:["articleRenderer"],storytypes:["all"],fullWidth:!1,addTitle:!1,viewports:["xs","s","m","l","x"],userstate:["anon"],section:{include:["all"],exclude:[]},geo:{include:["all"],exclude:[]},selector:".article-list",position:"before",style:"margin-top:10px; margin-bottom:10px;",poscount:1},{id:"nat_story_newarticle_2",active:!0,testParam:!1,cms:["aem"],pagetypes:["story","live","video"],rendertypes:["articleRenderer"],storytypes:["all"],fullWidth:!1,addTitle:!1,viewports:["xs","s","m","l","x"],userstate:["all"],section:{include:["all"],exclude:[]},geo:{include:["all"],exclude:[]},selector:".article-list",position:"after",style:"margin-top:10px; margin-bottom:10px;",poscount:1},{id:"bbb",active:!0,testParam:!1,cms:["aem"],pagetypes:["story","live","video"],rendertypes:["articleRenderer"],storytypes:["all"],fullWidth:!1,addTitle:!1,viewports:["l","x","s","xs"],userstate:["all"],section:{include:["all"],exclude:[]},geo:{include:["all"],exclude:[]},selector:".more-stories",position:"after",style:"margin-top:10px; margin-bottom:10px;",poscount:1},{id:"hotfix_remove_mobile_a3pages_mpu",active:!0,testParam:!1,cms:["aem"],pagetypes:["story"],rendertypes:["articleRenderer"],storytypes:["all"],fullWidth:!1,addTitle:!1,viewports:["xs","s"],userstate:["all"],section:{include:["portal"],exclude:[]},geo:{include:["all"],exclude:[]},selector:function(){window.tmgAds.log("ADTECH: HOTFIX - removing MPU slot from mobile A3 pages","",!0),window.tmgAdsRemoveElement("advert_tmg_mpu")},position:"",style:"",poscount:0},{id:"hotfix_remove_desktop_portal_mpu",active:!0,testParam:!1,cms:["aem"],pagetypes:["index"],rendertypes:["all"],storytypes:["all"],fullWidth:!1,addTitle:!1,viewports:["x","l"],userstate:["all"],section:{include:["portal"],exclude:[]},geo:{include:["all"],exclude:[]},selector:function(){let e=document.getElementById("advert_tmg_mpu");e&&(window.tmgAds.log("ADTECH: HOT-FIX - remove MPU on Portal Desktop pages - deleting advert_tmg_mpu","",!0),e.parentNode.removeChild(e))},position:"",style:"",poscount:0},{id:"hotfix_remove_tablet_mpu_container",active:!0,testParam:!1,cms:["aem"],pagetypes:["story","live","video"],rendertypes:["all"],storytypes:["all"],fullWidth:!1,addTitle:!1,viewports:["m"],userstate:["all"],section:{include:["all"],exclude:[]},geo:{include:["all"],exclude:[]},selector:function(){if(document.querySelectorAll(".commercial-unit.commercial-unit--sidebar").length>0){window.tmgAds.log("ADTECH: HOT-FIX - remove M/Tablet MPU container - unit found","",!0);var e=document.querySelectorAll(".commercial-unit.commercial-unit--sidebar")[0];e.parentNode.removeChild(e)}},position:"",style:"",poscount:0},{id:"a3_remove_ban_mobile",active:!0,testParam:!1,cms:["aem"],pagetypes:["story","live","video"],rendertypes:["articleRenderer"],storytypes:["all"],fullWidth:!1,addTitle:!1,viewports:["xs","s"],userstate:["reg","sub"],section:{include:["all"],exclude:[]},geo:{include:["all"],exclude:[]},selector:function(){window.tmgAds.log("ADTECH: A3 - articleRenderer -> a3_remove_ban_mobile",!0,!0);var e=document.getElementById("advert_tmg_ban");e&&(e.classList.remove("is-sticky"),document.getElementById("advert_tmg_ban").parentNode.removeChild(e))},position:"before",style:"margin-top:10px; margin-bottom:10px;",poscount:0},{id:"gad_comments_a2",active:!1,testParam:!1,cms:["aem"],pagetypes:["story"],rendertypes:["articleRenderer2"],storytypes:["all"],fullWidth:!1,addTitle:!1,viewports:["m","s","xs"],userstate:["all"],section:{include:["all"],exclude:[]},geo:{include:["all"],exclude:[]},selector:"#comments",position:"after",style:"margin-top:10px; margin-bottom:10px;",poscount:0},{id:"newads2020_delete_all_adsmax_slots",active:!0,testParam:!1,cms:["aem"],pagetypes:["all"],rendertypes:["all"],storytypes:["all"],fullWidth:!1,addTitle:!1,viewports:["x","l"],userstate:["reg","sub"],section:{include:["all"],exclude:[]},geo:{include:["all"],exclude:[]},selector:function(){console.log("ADTECH: newads2020_delete_all_adsmax_slots - Reg/Sub User - removing the adsmax new ad placements");for(var e=tmgAdsGetAllAdSlots(),t=0;t<e.length;t++)if(e[t].getAttribute("data-ad-adsmax")){console.log("ADTECH: newads2020_delete_all_adsmax_slots - Reg/Sub User - deleting slot ->",e[t]);var s=e[t].parentElement;s.parentElement.removeChild(s)}},position:"before",style:"margin-top:10px; margin-bottom:10px;",poscount:0},{id:"newads2020_desktop_article_sticky_ban",active:!0,testParam:!1,cms:["aem"],pagetypes:["story","live","video"],rendertypes:["articleRenderer","articleRenderer2"],storytypes:["all"],fullWidth:!1,addTitle:!1,viewports:["x","l"],userstate:["all"],section:{include:["all"],exclude:[]},geo:{include:["all"],exclude:[]},selector:function(){console.log("ADTECH: newads2020_desktop_article_sticky_ban - Anon User - Turning on Sticky banners for anonymous users - requires turning on banner slot"),tmgAds.config.deliveryModel.exempt.push("ban")},position:"before",style:"margin-top:10px; margin-bottom:10px;",poscount:0},{id:"nat_story_sidebar",active:!0,testParam:!1,cms:["aem"],pagetypes:["story","live","video"],rendertypes:["all"],storytypes:["storytype_comments"],fullWidth:!1,addTitle:!0,viewports:["l","x"],userstate:["all"],section:{include:["sport"],exclude:[]},geo:{include:["all"],exclude:[]},selector:".commercial-unit.commercial-unit--sidebar",position:"before",style:"margin-bottom: 24px; margin-top: 8px",poscount:0},{id:"a2_liveblog_remove_300x600",active:!1,testParam:!1,cms:["aem"],pagetypes:["live"],rendertypes:["articleRenderer","articleRenderer2"],storytypes:["all"],fullWidth:!1,addTitle:!1,viewports:["x","l"],userstate:["all"],section:{include:["all"],exclude:[]},geo:{include:["all"],exclude:[]},selector:function(){tmgAds.plugins.sizemapping.l.mpu=[[300,250],[300,215],[300,189],[1,1],"fluid"],tmgAds.plugins.sizemapping.x.mpu=[[300,250],[300,215],[300,189],[1,1],"fluid"],console.log("ADTECH: DYNAMIC-ADS -> A2 Live Blog onward journey RHR - removing 300x600 support on desktops")},position:"",style:"",poscount:0},{id:"dynamic_mpus",active:!0,testParam:!1,cms:["aem"],pagetypes:["story","video","live"],rendertypes:["articleRenderer","articleRenderer2"],storytypes:["all"],fullWidth:!1,viewports:["all"],userstate:["all"],section:{include:["all"],exclude:[]},geo:{include:["all"],exclude:[]},selector:function(){if(window.tmgAds.page.dataLayer){var e={charCount:0,lastBlockWasPara:!1,dynCount:0,hasFirstAd:!1,adsInjected:0,adFreq:{}};tmgAds.appServers.indexOf(window.location.host)>=0?(e.adFreq=tmgAds.plugins.dynad.config.app[tmgAds.page.pagetype][tmgAds.layout.viewport],window.tmgAds.log("dynMPU: config/rules for ad injection")):(e.adFreq=tmgAds.plugins.dynad.config.web[tmgAds.page.pagetype][tmgAds.layout.viewport],window.tmgAds.log("dynMPU: config/rules for ad injection")),"articleRenderer2"==window.tmgAds.page.rendererType&&(e.nodes=document.querySelectorAll(".article__content .component .article-body-text")),"articleRenderer"==window.tmgAds.page.rendererType&&(e.nodes=document.querySelectorAll(".component.article-body-text")),window.tmgAds.log("dynMPU: tmp.nodes","",!1);for(var t=0;t<e.nodes.length;t++){e.lastBlockWasPara=!1,e.paras=e.nodes[t].querySelectorAll("h5,h4,h3,h2,p");for(var s=0;s<e.paras.length;s++)"P"==e.paras[s].tagName?(e.lastBlockWasPara&&(e.hasFirstAd?e.adFreq.minChars=e.adFreq.otherAd:e.adFreq.minChars=e.adFreq.firstAd,e.dynCount+1<=e.adFreq.maxAds&&e.charCount>=e.adFreq.minChars&&s<e.paras.length-2&&(window.tmgAds.log("dynMPU: P["+s+"] SUCCESS INJECTING dynamicMPU -> minChars met required config/rules -> dynCount="+e.dynCount+" charCount="+e.charCount+" maxAds="+e.adFreq.maxAds,"",!1),e.el=document.createElement("div"),e.el.className="advert-container dynamicMpu",e.el.id="advert_tmg_dyn_"+e.dynCount+"_container",e.el.style.height="0px",e.el.setAttribute("data-js","dynamicMpu-ad"),e.el.setAttribute("data-adtype","dyn_"+e.dynCount),e.el.setAttribute("data-ad-slot-hidden","false"),e.el.setAttribute("data-ad-slot-id",e.el.id),e.el.setAttribute("data-perf","commerical-perf-"+e.dynCount),e.el.innerHTML+='<div id="advert_tmg_dyn_'+e.dynCount+'_title" class="new_premium_ads_text dynMpuAdTitle" data-test="advert-label" style="background-color:rgb(238, 238, 238);color:rgb(68, 68, 68);text-align:center;font-size:11px;font-family:\'Telesans Text Regular\', Arial, sans-serif;height:0px"></div>',e.el.innerHTML+='<div id="advert_tmg_dyn_'+e.dynCount+'" class="advert js-advert"  style="background-color:rgb(245, 245, 245);height:0px" data-test="advert" data-adtype="dyn"></div>',e.thisPara=e.paras[s],d=e.thisPara,i=e.el,d.parentNode.insertBefore(i,d.nextSibling),e.dynCount++,e.charCount=0,e.hasFirstAd=!0,e.adsInjected++)),e.lastBlockWasPara=!0):e.lastBlockWasPara=!1,e.charCount+=e.paras[s].innerText.length}window.tmgAds.log("dynMPU: Total Ads Injected -> "+e.adsInjected,"",!1)}var d,i},position:"",style:"",poscount:0},{id:"liveblogs_2022",active:!0,testParam:!1,cms:["aem"],pagetypes:["story","live"],rendertypes:["liveBlogRenderer"],storytypes:["all"],fullWidth:!1,viewports:["all"],userstate:["all"],section:{include:["all"],exclude:[]},geo:{include:["all"],exclude:[]},selector:function(){if(window.tmgAds.page.dataLayer){var e={activeNode:null,blockCharLength:0,charCount:0,dynCount:0,hasFirstAd:!1,adsInjected:0,adFreq:{}};tmgAds.appServers.indexOf(window.location.host)>=0?e.adFreq=tmgAds.plugins.dynad.config.app[tmgAds.page.pagetype][tmgAds.layout.viewport]:e.adFreq=tmgAds.plugins.dynad.config.web[tmgAds.page.pagetype][tmgAds.layout.viewport],e.nodes=document.getElementsByClassName("live-post  js-live-post component");for(var t=0;t<e.nodes.length;t++)e.activeNode=e.nodes[t],e.charCount+=e.activeNode.innerText.length,e.hasFirstAd?e.adFreq.minChars=e.adFreq.otherAd:e.adFreq.minChars=e.adFreq.firstAd,e.charCount>=e.adFreq.minChars&&(window.tmgAds.log("LiveBlogs dynMPU: tmp.node["+t+"] SUCCESS tmp.charCount("+e.charCount+") GREATER THAN tmp.adFreq.minChars("+e.adFreq.minChars+")","",!1),e.dynCount+1<=e.adFreq.maxAds?(window.tmgAds.log("LiveBlogs dynMPU: tmp.node["+t+"] SUCCESS tmp.dynCount("+e.dynCount+") LESS THAN tmp.adFreq.maxAds("+e.adFreq.maxAds+")","",!1),s=void 0,d=void 0,window.tmgAds.log("LiveBlogs dynMPU: tmp.node["+t+"] INJECTING AD advert_tmg_dyn_"+e.dynCount,"",!1),e.el=document.createElement("div"),e.el.className="advert-container dynamicMpu",e.el.id="advert_tmg_dyn_"+e.dynCount+"_container",e.el.style.height="0px",e.el.setAttribute("data-js","dynamicMpu-ad"),e.el.setAttribute("data-adtype","dyn_"+e.dynCount),e.el.setAttribute("data-ad-slot-hidden","false"),e.el.setAttribute("data-ad-slot-id",e.el.id),e.el.setAttribute("data-perf","commerical-perf-"+e.dynCount),e.el.innerHTML+='<div id="advert_tmg_dyn_'+e.dynCount+'_title" class="new_premium_ads_text dynMpuAdTitle" data-test="advert-label" style="background-color:rgb(238, 238, 238);color:rgb(68, 68, 68);text-align:center;font-size:11px;font-family:\'Telesans Text Regular\', Arial, sans-serif;height:0px"></div>',e.el.innerHTML+='<div id="advert_tmg_dyn_'+e.dynCount+'" class="advert js-advert"  style="background-color:rgb(245, 245, 245);height:0px" data-test="advert" data-adtype="dyn"></div>',e.thisBlock=e.activeNode,s=e.thisBlock,d=e.el,s.parentNode.insertBefore(d,s.nextSibling),e.dynCount++,e.charCount=0,e.hasFirstAd=!0,e.adsInjected++):(window.tmgAds.log("LiveBlogs dynMPU: tmp.node["+t+"] STOP maxAds have been injected into this page - tmp.adFreq.maxAds("+e.adFreq.maxAds+")","",!1),t=e.nodes.length));window.tmgAds.log("LiveBlogs dynMPU: REPORT Total Ads Injected -> "+e.adsInjected)}var s,d},position:"",style:"",poscount:0},{id:"new_gallery_ads_2022",active:!0,testParam:!1,cms:["aem"],pagetypes:["gallery"],rendertypes:["galleryRenderer2"],storytypes:["all"],fullWidth:!1,viewports:["all"],userstate:["all"],section:{include:["all"],exclude:[]},geo:{include:["all"],exclude:[]},selector:function(){var e,t,s={galImgs:document.getElementsByClassName("grid-col grid-col-12 gallery-item"),imgCount:0,imgTotal:0,adId:0,firstAd:5,adsFreq:6,adsMax:7,adType:"gad"};"xs"!=tmgAds.layout.viewport&&"s"!=tmgAds.layout.viewport&&"m"!=tmgAds.layout.viewport||(s.firstAd=2);for(var d=0;d<s.galImgs.length;d++)s.imgCount++,s.imgTotal++,s.imgCount!=s.adsFreq&&s.imgTotal!=s.firstAd||s.adId<s.adsMax&&(s.el=document.createElement("div"),s.el.id="advert_tmg_"+s.adType+"_"+s.adId+"_container",s.el.className="grid-col grid-col-12 gallery-item gallery-ad",s.el.style.backgroundColor="#353535",s.el.setAttribute("data-js","gallery-ad"),s.el.setAttribute("data-ad-slot-hidden","false"),s.el.setAttribute("data-ad-slot-id","advert_tmg_"+s.adType+"_"+s.adId),s.el.setAttribute("data-perf","commerical-perf-"+s.adId),s.el.innerHTML+='<div id="advert_tmg_'+s.adType+"_"+s.adId+'_title" class="advert-label advert-label-dark" data-test="advert-label" style="background-color:#505050;padding:4px;color:#EEEEEE">Advertisement</div>',s.el.innerHTML+='<div id="advert_tmg_'+s.adType+"_"+s.adId+'" class="advert advert-dark advert--banner js-advert" data-test="advert" data-adtype="'+s.adType+'"></div>',s.div=s.galImgs[d],e=s.div,t=s.el,e.parentNode.insertBefore(t,e.nextSibling),s.imgCount=0,s.adId++)},position:"",style:"",poscount:0}]},models:{story:[{viewport:"x",ruleName:"Default",model:"mpu",minHeight:900,refreshRate:11e3,refreshCycle:0,exempt:["nat"]},{viewport:"l",ruleName:"Default",model:"mpu",minHeight:900,refreshRate:11e3,refreshCycle:0,exempt:["nat"]},{viewport:"m",ruleName:"Default",model:"ban",minHeight:0,refreshRate:15e3,refreshCycle:2,exempt:["nat"]},{viewport:"s",ruleName:"Default",model:"ban",minHeight:0,refreshRate:15e3,refreshCycle:2,exempt:["nat","bbt","bbb"]},{viewport:"xs",ruleName:"Default",model:"ban",minHeight:0,refreshRate:15e3,refreshCycle:2,exempt:["nat","bbt","bbb"]}],live:[{viewport:"x",ruleName:"Default",model:"mpu",minHeight:900,refreshRate:11e3,refreshCycle:0,exempt:["nat"]},{viewport:"l",ruleName:"Default",model:"mpu",minHeight:900,refreshRate:11e3,refreshCycle:0,exempt:["nat"]},{viewport:"m",ruleName:"Default",model:"ban",minHeight:0,refreshRate:15e3,refreshCycle:2,exempt:["nat"]},{viewport:"s",ruleName:"Default",model:"ban",minHeight:0,refreshRate:15e3,refreshCycle:2,exempt:["nat","bbt","bbb"]},{viewport:"xs",ruleName:"Default",model:"ban",minHeight:0,refreshRate:15e3,refreshCycle:2,exempt:["nat","bbt","bbb"]}],video:[{viewport:"x",ruleName:"Default",model:"mpu",minHeight:900,refreshRate:11e3,refreshCycle:0,exempt:["nat"]},{viewport:"l",ruleName:"Default",model:"mpu",minHeight:900,refreshRate:11e3,refreshCycle:0,exempt:["nat"]},{viewport:"m",ruleName:"Default",model:"ban",minHeight:0,refreshRate:15e3,refreshCycle:2,exempt:["nat"]},{viewport:"s",ruleName:"Default",model:"ban",minHeight:0,refreshRate:15e3,refreshCycle:2,exempt:["nat","bbt","bbb"]},{viewport:"xs",ruleName:"Default",model:"ban",minHeight:0,refreshRate:15e3,refreshCycle:2,exempt:["nat","bbt","bbb"]}],"video-play":[{viewport:"x",ruleName:"Default",model:"mpu",minHeight:900,refreshRate:11e3,refreshCycle:0,exempt:["nat"]},{viewport:"l",ruleName:"Default",model:"mpu",minHeight:900,refreshRate:11e3,refreshCycle:0,exempt:["nat"]},{viewport:"m",ruleName:"Default",model:"ban",minHeight:0,refreshRate:15e3,refreshCycle:2,exempt:["nat"]},{viewport:"s",ruleName:"Default",model:"ban",minHeight:0,refreshRate:15e3,refreshCycle:2,exempt:["nat","bbt","bbb"]},{viewport:"xs",ruleName:"Default",model:"ban",minHeight:0,refreshRate:15e3,refreshCycle:2,exempt:["nat","bbt","bbb"]}],longform:[{viewport:"x",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"l",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"m",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"s",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"xs",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]}],index:[{viewport:"x",ruleName:"Default",model:"ban",minHeight:900,refreshRate:11e3,refreshCycle:1,exempt:["nat","mpu","hpg","bin","lmpu"]},{viewport:"l",ruleName:"Default",model:"ban",minHeight:900,refreshRate:11e3,refreshCycle:1,exempt:["nat","mpu","hpg","bin","lmpu"]},{viewport:"m",ruleName:"Default",model:"ban",minHeight:0,refreshRate:11e3,refreshCycle:1,exempt:["nat","mpu","hpg","bin","lmpu"]},{viewport:"s",ruleName:"Default",model:"ban",minHeight:0,refreshRate:11e3,refreshCycle:1,exempt:["nat","mpu","hpg","bin","lmpu"]},{viewport:"xs",ruleName:"Default",model:"ban",minHeight:0,refreshRate:11e3,refreshCycle:1,exempt:["nat","mpu","hpg","bin","lmpu"]}],topic:[{viewport:"x",ruleName:"Default",model:"ban",minHeight:900,refreshRate:11e3,refreshCycle:1,exempt:["nat","mpu","hpg","bin","lmpu"]},{viewport:"l",ruleName:"Default",model:"ban",minHeight:900,refreshRate:11e3,refreshCycle:1,exempt:["nat","mpu","hpg","bin","lmpu"]},{viewport:"m",ruleName:"Default",model:"ban",minHeight:0,refreshRate:11e3,refreshCycle:1,exempt:["nat","mpu","hpg","bin","lmpu"]},{viewport:"s",ruleName:"Default",model:"ban",minHeight:0,refreshRate:11e3,refreshCycle:1,exempt:["nat","mpu","hpg","bin","lmpu"]},{viewport:"xs",ruleName:"Default",model:"ban",minHeight:0,refreshRate:11e3,refreshCycle:1,exempt:["nat","mpu","hpg","bin","lmpu"]}],"video-index":[{viewport:"x",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"l",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"m",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"s",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"xs",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]}],gallery:[{viewport:"x",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"l",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"m",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"s",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"xs",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]}],"travel-product":[{viewport:"x",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"l",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"m",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"s",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"xs",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]}],"travel-product-listing":[{viewport:"x",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"l",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"m",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"s",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"xs",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]}],"travel-destinations":[{viewport:"x",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"l",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"m",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"s",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"xs",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]}],"travel-review":[{viewport:"x",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"l",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"m",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"s",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"xs",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]}],"rewards-offers-detail":[{viewport:"x",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"l",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"m",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"s",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"xs",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]}],bare:[{viewport:"x",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"l",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"m",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"s",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"xs",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]}],unset:[{viewport:"x",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"l",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"m",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"s",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"xs",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]}],default:[{viewport:"x",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"l",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"m",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"s",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]},{viewport:"xs",ruleName:"Default",model:"none",minHeight:0,refreshRate:0,refreshCycle:0,exempt:["nat"]}]}},tmgAds.layout={viewport:"u",viewportWidth:"",getBreakpoint:function(e){var t="xs";return e>=tmgAds.plugins.sizemapping.s.size[0]&&(t="s"),e>=tmgAds.plugins.sizemapping.m.size[0]&&(t="m"),e>=tmgAds.plugins.sizemapping.l.size[0]&&(t="l"),e>=tmgAds.plugins.sizemapping.x.size[0]&&(t="x"),tmgAdsLog("tmgAds.layout.getBreakpoint -> width:"+tmgAds.layout.viewportWidth+" height:"+tmgAds.layout.viewportHeight+" size:"+tmgAds.layout.viewport),t},getViewportWidth:function(){return document.documentElement.clientWidth>=0?document.documentElement.clientWidth:document.body&&document.body.clientWidth>=0?document.body.clientWidth:window.innerWidth>=0?window.innerWidth:0},getViewportHeight:function(){return document.documentElement.clientHeight>=0?document.documentElement.clientHeight:document.body&&document.body.clientHeight>=0?document.body.clientHeight:window.innerHeight>=0?window.innerHeight:0},onresize:function(){tmgAds.layout.viewportHeight=tmgAds.layout.getViewportHeight(),tmgAds.layout.viewportWidth=tmgAds.layout.getViewportWidth(),tmgAds.layout.viewport=tmgAds.layout.getBreakpoint(tmgAds.layout.viewportWidth)},addEvent:function(e,t,s){null!==e&&"undefined"!=e&&(e.addEventListener?e.addEventListener(t,s,!1):e.attachEvent?e.attachEvent("on"+t,s):e["on"+t]=s)}},tmgAds.page=tmgAdsGetPageData(),tmgAds.layout.onresize(),tmgAdsLog("Current viewport now: "+tmgAds.layout.viewport),tmgAdsLog("Creating an event handler for dealing with page layout changes ie; viewport change"),tmgAds.layout.addEvent(window,"resize",tmgAds.layout.onresize),tmgAds.layout.addEvent(window,"resize",tmgAds.layout.onresize),tmgAds.plugins.prebid={name:"prebid",active:!0,status:"init",type:"js",bidstatus:"init",auctionID:!1,auctions:[],debug:!1,async:!1,excludeZones:[],jsloc:function(){return!1},url:"https://static.telegraph.co.uk/telegraph-advertising/prebid/prebidv6.3.0-pre.js",loc:"head",zerorated:["appnexusgmsm"],exempt:["tmg","inr","ftr"],keynames:["hb_data","hb_bids","hb_dealId"],multiSlots:["dyn","bin","lmpu"],domains:tmgAds.prodServers,timeout:2e3,timeoutBuffer:500,timeoutCount:0,timeoutHit:!1,timeoutModify:{xs:1e3,s:1e3,m:750,l:250,x:250},timeoutModifyGeo:{cn:1e3,ng:1e3,in:1e3,pk:1e3,au:1e3,ke:1e3,ph:1e3,za:1e3,tw:1e3,id:1e3,nz:1e3,ar:1e3,eg:1e3,br:1e3,kr:1e3,jp:1e3,my:1e3,sa:1e3,vn:1e3,hk:1e3,sg:1e3,ae:1e3,tr:1e3,th:1e3,qa:1e3,gr:1e3,cy:1e3,fr:1e3,it:1e3,pl:1e3,il:1e3,mx:1e3,ru:1e3,ie:1e3},disableAjaxTimeout:!0,checkFreq:100,delayed:0,priceGranularity:{buckets:[{precision:2,max:3,increment:.01},{precision:2,max:20,increment:.05},{precision:2,max:1e3,increment:1}]},commonId:{enable:!0,expInterval:525600,optout:tmgAdsGetCookie("_pubcid_optout"),_pubcid:tmgAdsGetCookie("_pubcid")},cmp:{active:!0,type:"iab",timeout:800},bidderConfigs:{rubicon:{rubiconSReq:!0},ix:{timeout:500},kargo:{geo:["us","ca","mx","ap","ae","af","am","au","az","bd","bh","bn","bt","cc","cn","cx","cy","ge","hk","id","il","in","io","iq","ir","jo","jp","kg","kh","kp","kr","kw","kz","la","lb","lk","mm","mn","mo","mv","my","np","nz","om","ph","pk","ps","qa","ru","sa","sg","sy","th","tj","tl","tm","tr","tw","uz","vn","ye"]}},userSync:{syncEnabled:!0,syncDelay:1e4,syncsPerBiddder:5,bidders:"*",filter:"include",enableOverride:!1},preloadFn:function(){window.tmgAds.log("PREBID: preloadFn"),window.tmgAds.metrics.prebid.prebid_preload=tmgAdsTimer(),window.location.search.indexOf("pbcidtest")>=0&&(window.tmgAds.log("PREBID: Common ID turned on via URL"),window.tmgAds.plugins.prebid.commonId.enable=!0),window.pbjs={},window.pbjs.cmd=[],window.pbjs.que=[],window.PREBID_TIMEOUT=tmgAds.plugins.prebid.timeout,window.tmgAds.layout.viewport&&(window.PREBID_TIMEOUT+=window.tmgAds.plugins.prebid.timeoutModify[window.tmgAds.layout.viewport]),window.tmgAds.page&&window.tmgAds.page.geo&&window.tmgAds.plugins.prebid.timeoutModifyGeo.hasOwnProperty(window.tmgAds.page.geo)&&(window.PREBID_TIMEOUT+=window.tmgAds.plugins.prebid.timeoutModifyGeo[window.tmgAds.page.geo],window.tmgAds.log("PREBID: timeoutModifyGeo is matched a country -> new timeout -> "+window.tmgAds.plugins.prebid.timeout)),window.tmgAds.metrics.prebid={preload:tmgAdsTimer()},pbjs.que.push((function(){pbjs.setConfig({debug:window.tmgAds.plugins.prebid.debug}),pbjs.setConfig({bidderTimeout:window.PREBID_TIMEOUT})})),pbjs.que.push((function(){tmgAds.plugins.prebid.cmp.active?pbjs.setConfig({consentManagement:{cmpApi:tmgAds.plugins.prebid.cmp.type,timeout:tmgAds.plugins.prebid.cmp.timeout,allowAuctionWithoutConsent:!0}}):window.tmgAds.log("ADTECH: Prebid CMP -> INACTIVE"),tmgAds.plugins.prebid.commonId.active&&pbjs.setConfig({pubcid:{enable:tmgAds.plugins.prebid.commonId.enable,expInterval:tmgAds.plugins.prebid.commonId.expInterval}}),tmgAds.plugins.prebid.userSync.syncEnabled?pbjs.setConfig({userSync:{syncEnabled:window.tmgAds.plugins.prebid.userSync.syncEnabled,syncDelay:window.tmgAds.plugins.prebid.userSync.syncDelay,filterSettings:{all:{bidders:window.tmgAds.plugins.prebid.userSync.bidders,filter:window.tmgAds.plugins.prebid.userSync.filter},syncsPerBidder:window.tmgAds.plugins.prebid.userSync.syncsPerBidder},enableOverride:window.tmgAds.plugins.prebid.userSync.enableOverride}}):pbjs.setConfig({userSync:{syncEnabled:window.tmgAds.plugins.prebid.userSync.syncEnabled}}),pbjs.setConfig({priceGranularity:window.tmgAds.plugins.prebid.priceGranularity}),pbjs.setConfig({ix:{timeout:window.tmgAds.plugins.prebid.bidderConfigs.ix.timeout}}),pbjs.setConfig({rubicon:{singleRequest:window.tmgAds.plugins.prebid.bidderConfigs.rubicon.rubiconSReq}}),pbjs.setConfig({realTimeData:{dataProviders:[{name:"permutive",params:{acBidders:["ozone"]}}]}}),pbjs.setConfig({userSync:{userIds:[{name:"pubCommonId",storage:{type:"cookie",name:tmgAdsGetCookie("_pubcid"),expires:525600}}]}});try{pbjs.setConfig({ix:{firstPartyData:{sc:window.tmgAds.dfp.customvars.sc}}}),window.tmgAds.log("PREBID: prebid config - SUCCESS adding firstPartyData ->")}catch(e){window.tmgAds.log("PREBID: prebid config - ERROR failed to add firstPartyData ->",e)}pbjs.onEvent("auctionInit",(function(e){var t=window.tmgAdsTimer(),s=e.adUnitCodes[0].split("-")[0];window.tmgAds.log("PREBID: auctionInit - "+s),window.tmgAds.metrics.ads[s]=window.tmgAds.metrics.ads[s]||{},window.tmgAds.metrics.ads[s].prebid_adRenderSucceeded=null,window.tmgAds.metrics.ads[s].prebid_adRenderFailed=null,window.tmgAds.metrics.ads[s].prebid_auctionInit=t,window.tmgAds.metrics.ads[s].prebid_auctionEnd=null,window.tmgAds.metrics.ads[s].prebid_auctionDuration=null,window.tmgAds.metrics.ads[s].prebid_bidResponse=null})),pbjs.onEvent("auctionEnd",(function(e){var t=window.tmgAdsTimer(),s=e.adUnitCodes[0].split("-")[0];window.tmgAds.log("PREBID: auctionEnd - "+s),window.tmgAds.metrics.ads[s].prebid_auctionEnd=t,window.tmgAds.metrics.ads[s].prebid_auctionDuration=window.tmgAds.metrics.ads[s].prebid_auctionEnd-window.tmgAds.metrics.ads[s].prebid_auctionInit})),pbjs.onEvent("adRenderSucceeded",(function(e){var t=e.adUnitCodes[0].split("-")[0];window.tmgAds.log("PREBID: adRenderSucceeded - "+t),window.tmgAds.metrics.ads[t].prebid_adRenderSucceeded=!0,window.tmgAds.metrics.ads[t].prebid_adRenderFailed=!1})),pbjs.onEvent("adRenderFailed",(function(e){var t=e.adUnitCodes[0].split("-")[0];window.tmgAds.log("PREBID: adRenderFailed - "+t),window.tmgAds.metrics.ads[t].prebid_adRenderSucceeded=!1,window.tmgAds.metrics.ads[t].prebid_adRenderFailed=!0})),pbjs.onEvent("bidResponse",(function(e){var t=window.tmgAdsTimer(),s=e.adUnitCodes[0].split("-")[0];window.tmgAds.log("PREBID: bidResponse - "+s),window.tmgAds.metrics.ads[s].prebid_bidResponse=t})),pbjs.onEvent("bidWon",(function(){window.tmgAds.metrics.prebid.prebid_bidWon=tmgAdsTimer()})),pbjs.onEvent("bidAdjustment",(function(){window.tmgAds.metrics.prebid.prebid_bidAdjustment=tmgAdsTimer()})),pbjs.onEvent("bidTimeout",(function(){window.tmgAds.metrics.prebid.prebid_bidTimeout=tmgAdsTimer()})),pbjs.onEvent("bidRequested",(function(){window.tmgAds.metrics.prebid.prebid_bidRequested=tmgAdsTimer()})),pbjs.onEvent("setTargeting",(function(){window.tmgAds.metrics.prebid.prebid_setTargeting=tmgAdsTimer()})),pbjs.onEvent("requestBids",(function(){window.tmgAds.metrics.prebid.prebid_requestBids=tmgAdsTimer()})),window.tmgAds.plugins.prebid.bids=tmgAdsPrebidReturnAdUnits(),pbjs.aliasBidder("teads","teadsclient"),pbjs.aliasBidder("criteo","criteoclient")})),window.tmgAds.plugins.prebid.pbversion=pbjs.version,window.tmgAds.plugins.prebid.ozversion="pending"},bidsBackHandler:{bidsBackHandler:function(e){tmgAdsLog("PREBID: bidsBackHandler Bids Recieved - bidResponses:",e,window.tmgAds.plugins.prebid.auctions.currentAuctionDivId),window.tmgAds.plugins.prebid.bidstatus="received",window.tmgAds.metrics.prebid.prebid_bidsBackHandler=window.tmgAdsTimer(),window.tmgAds.metrics.prebid.bidsReceived=window.tmgAdsTimer();var t=[],s=window.tmgAds.plugins.prebid.auctions.currentAuctionDivId;for(var d in e)for(var i in e[d].bids){if(1!=e[d].bids[i].getStatusCode())switch(e[d].bids[i].adserverTargeting=e[d].bids[i].adserverTargeting||{hb_adid:"",hb_pb:""},e[d].bids[i].adserverTargeting.hb_adid="none",e[d].bids[i].getStatusCode()){case 0:e[d].bids[i].adserverTargeting.hb_pb="pending";break;case 2:e[d].bids[i].adserverTargeting.hb_pb="nobid";break;case 3:e[d].bids[i].adserverTargeting.hb_pb="timeout"}"s2s"==e[d].bids[i].source?e[d].bids[i].abBidder=e[d].bids[i].bidder+e[d].bids[i].source:e[d].bids[i].adBidder=e[d].bids[i].bidderCode;var a=d.split("-");e[d].bids[i].adserverTargeting.hb_pborigin=e[d].bids[i].adserverTargeting.hb_pb,window.tmgAds.plugins.prebid.zerorated.indexOf(e[d].bids[i].bidder)>-1&&(e[d].bids[i].adserverTargeting.hb_pb=0),e[d].bids[i].adSlot=a[0],e[d].bids[i].adType=a[0].split("_")[2],s=a[0].split("-")[0],e[d].bids[i].placementId=a[1]||"none",window.tmgAds.metrics.prebid[e[d].bids[i].adSlot]=window.tmgAds.metrics.prebid[e[d].bids[i].adSlot]||{},window.tmgAds.metrics.prebid[e[d].bids[i].adSlot][e[d].bids[i].bidder]=window.tmgAds.metrics.prebid[e[d].bids[i].adSlot][e[d].bids[i].bidder]||{},window.tmgAds.metrics.prebid[e[d].bids[i].adSlot][e[d].bids[i].bidder][e[d].bids[i].placementId]=window.tmgAds.metrics.prebid[e[d].bids[i].adSlot][e[d].bids[i].bidder][e[d].bids[i].placementId]||{},window.tmgAds.metrics.prebid[e[d].bids[i].adSlot][e[d].bids[i].bidder][e[d].bids[i].placementId].timeToRespond=e[d].bids[i].timeToRespond,window.tmgAds.metrics.prebid[e[d].bids[i].adSlot][e[d].bids[i].bidder][e[d].bids[i].placementId].size=e[d].bids[i].size,window.tmgAds.metrics.prebid[e[d].bids[i].adSlot][e[d].bids[i].bidder][e[d].bids[i].placementId].cpm=e[d].bids[i].cpm,e[d].bids[i].bidData=e[d].bids[i].adBidder+"_"+e[d].bids[i].adserverTargeting.hb_pb+"_"+e[d].bids[i].size+"_"+e[d].bids[i].adType+"_"+e[d].bids[i].adserverTargeting.hb_adid+"_"+e[d].bids[i].placementId+"_"+e[d].bids[i].timeToRespond+"_"+e[d].bids[i].requestId,e[d].bids[i].bidID=e[d].bids[i].adBidder+"_"+e[d].bids[i].adserverTargeting.hb_pb+"_"+e[d].bids[i].size,t[e[d].bids[i].adSlot]=t[e[d].bids[i].adSlot]||{bids:[]},t[e[d].bids[i].adSlot].bids.push(e[d].bids[i])}window.tmgAds.plugins.prebid.bidResponse=t,window.tmgAds.log("PREBID: bidsBackHandler Bids Recieved - tmgAds.plugins.prebid.bidResponse "+s,tmgAds.plugins.prebid.bidResponse),window.tmg.pubsub.publish({topic:"tmg.ads.prebid.auctions.bidsReceived."+s}),"timeout"!=window.tmgAds.plugins.prebid.bidstatus&&(window.tmgAds.plugins.prebid.bidstatus="received"),window.tmgAds.metrics.prebid.bidsReceived=Math.round(window.tmgAdsTimer()),window.tmgAds.metrics.prebid.timeToLoad=Math.round(window.tmgAds.metrics.prebid.bidsReceived-window.tmgAds.metrics.prebid.requested)}},onloadFn:function(){window.tmgAds.log("PREBID: tmgAdsLoadAsset - onloadFn()")},timeoutFn:function(){window.tmgAds.log("PREBID: tmgAdsLoadAsset - timeoutFn() -> issuing tmg.ads.prebid.auctions.complete"),window.tmg.pubsub.publish({topic:"tmg.ads.prebid.auctions.complete"})},onerrorFn:function(){window.tmgAds.log("PREBID: tmgAdsLoadAsset - onerrorFn() -> issuing tmg.ads.prebid.auctions.complete"),window.tmg.pubsub.publish({topic:"tmg.ads.prebid.auctions.complete"})},ignoreFn:function(){window.tmgAds.log("PREBID: tmgAdsLoadAsset - ignoreFn() -> issuing tmg.ads.prebid.auctions.complete"),window.tmg.pubsub.publish({topic:"tmg.ads.prebid.auctions.complete"})}}}catch(e){window.tmgAds.log("tmgAdsInit: ERROR - failed -> error="+e.message)}}function tmgAdsPrebidReturnAdUnits(){var e={adUnits:[],sizes:[],adSlots:document.querySelectorAll(".js-advert"),dynmax:5,dyncount:0,bincount:0,lmpucount:0,gadcount:0,customData:[{settings:{},targeting:tmgAds.dfp.customvars}],customDataStr:JSON.stringify(tmgAds.dfp.customvars),newIndex:!1};function t(e){var t={};for(key in tmgAds.dfp.customvars)tmgAds.dfp.customvars.hasOwnProperty(key)&&(t[key]=tmgAds.dfp.customvars[key]);return t.div=e,[{settings:{},targeting:t}]}for(i in"index"==tmgAds.page.pagetype&&"indexRenderer"==dataLayer.pageType&&(e.newIndex=!0),e.adSlots)"object"==typeof e.adSlots[i]&&(e.adSlots[i].setAttribute("data-adtype",e.adSlots[i].id.split("_")[2]),"nat"==e.adSlots[i].id.split("_")[2]&&e.adSlots[i].setAttribute("data-adtype",e.adSlots[i].id.substring(11))),"object"==typeof e.adSlots[i]&&"dyn"==e.adSlots[i].getAttribute("data-adtype").substring(0,3)&&e.dyncount++,"object"==typeof e.adSlots[i]&&"bin"==e.adSlots[i].getAttribute("data-adtype").substring(0,3)&&e.bincount++,"object"==typeof e.adSlots[i]&&"lmpu"==e.adSlots[i].getAttribute("data-adtype").substring(0,4)&&e.lmpucount++,"object"==typeof e.adSlots[i]&&"gad"==e.adSlots[i].getAttribute("data-adtype").substring(0,3)&&e.gadcount++;if(e.dyncount>e.dynmax&&(e.count=e.dynmax),"x"==tmgAds.layout.viewport||"l"==tmgAds.layout.viewport)if("index"==tmgAds.page.pagetype||"topic"==tmgAds.page.pagetype||"video-index"==tmgAds.page.pagetype||"travel-destinations"==tmgAds.page.pagetype){for(e.adUnits.push({code:"advert_tmg_ban-0420420601",mediaTypes:{banner:{sizes:[[970,250],[940,250]]}},bids:[{bidder:"ozone",params:{publisherId:"OZONETMG0001",siteId:"4204204210",placementId:"0420420601",customData:t("advert_tmg_ban")}}]}),i=0;i<=e.bincount-1;i++)e.adUnits.push({code:"advert_tmg_bin_"+i+"-1420420622",mediaTypes:{banner:{sizes:[[970,250],[728,90]]}},bids:[{bidder:"ozone",params:{publisherId:"OZONETMG0001",siteId:"4204204210",placementId:"1420420622",customData:t("advert_tmg_bin_"+i)}}]});for(i=0;i<=e.lmpucount-1;i++)e.adUnits.push({code:"advert_tmg_lmpu_"+i+"-1420420623",mediaTypes:{banner:{sizes:[[300,250]]}},bids:[{bidder:"ozone",params:{publisherId:"OZONETMG0001",siteId:"4204204210",placementId:"1420420623",customData:t("advert_tmg_lmpu_"+i)}}]});for(e.adUnits.push({code:"advert_tmg_ban-864201",mediaTypes:{banner:{sizes:[[970,250],[940,250]]}},bids:[{bidder:"criteoclient",params:{networkId:502}}]}),i=0;i<=e.bincount-1;i++)e.adUnits.push({code:"advert_tmg_bin_"+i+"-864225",mediaTypes:{banner:{sizes:[[970,250],[728,90]]}},bids:[{bidder:"criteoclient",params:{networkId:502}}]});for(i=0;i<=e.lmpucount-1;i++)e.adUnits.push({code:"advert_tmg_lmpu_"+i+"-864226",mediaTypes:{banner:{sizes:[[300,250]]}},bids:[{bidder:"criteoclient",params:{networkId:502}}]})}else{for(i=0;i<=e.gadcount-1;i++)e.adUnits.push({code:"advert_tmg_gad_"+i+"-1420420622",mediaTypes:{banner:{sizes:[[970,250],[728,90]]}},bids:[{bidder:"ozone",params:{publisherId:"OZONETMG0001",siteId:"4204204210",placementId:"1420420622",customData:t("advert_tmg_gad_"+i)}}]});for(e.adUnits.push({code:"advert_tmg_ban-0420420601",mediaTypes:{banner:{sizes:[[970,250],[940,250]]}},bids:[{bidder:"ozone",params:{publisherId:"OZONETMG0001",siteId:"4204204210",placementId:"0420420601",customData:t("advert_tmg_ban")}}]}),e.adUnits.push({code:"advert_tmg_bbb-0420420603",mediaTypes:{banner:{sizes:[[970,250],[728,90]]}},bids:[{bidder:"ozone",params:{publisherId:"OZONETMG0001",siteId:"4204204210",placementId:"0420420603",customData:t("advert_tmg_bbb")}}]}),tmgAds.layout.viewportHeight<tmgAds.config.deliveryModel.minHeight?e.adUnits.push({code:"advert_tmg_mpu-0420420600",mediaTypes:{banner:{sizes:[300,250]}},bids:[{bidder:"ozone",params:{publisherId:"OZONETMG0001",siteId:"4204204210",placementId:"0420420600",customData:t("advert_tmg_mpu")}}]}):e.adUnits.push({code:"advert_tmg_mpu-0420420600",mediaTypes:{banner:{sizes:[[300,250],[300,600]]}},bids:[{bidder:"ozone",params:{publisherId:"OZONETMG0001",siteId:"4204204210",placementId:"0420420600",customData:t("advert_tmg_mpu")}}]}),i=0;i<=e.gadcount-1;i++)e.adUnits.push({code:"advert_tmg_gad_"+i+"-864225",mediaTypes:{banner:{sizes:[[970,250],[728,90]]}},bids:[{bidder:"criteoclient",params:{networkId:502}}]});e.adUnits.push({code:"advert_tmg_bbb-864207",mediaTypes:{banner:{sizes:[[970,250],[728,90]]}},bids:[{bidder:"criteoclient",params:{networkId:502}}]}),tmgAds.layout.viewportHeight<tmgAds.config.deliveryModel.minHeight?e.adUnits.push({code:"advert_tmg_mpu-864202",mediaTypes:{banner:{sizes:[300,250]}},bids:[{bidder:"criteoclient",params:{networkId:502}}]}):e.adUnits.push({code:"advert_tmg_mpu-864202",mediaTypes:{banner:{sizes:[[300,600],[300,250]]}},bids:[{bidder:"criteoclient",params:{networkId:502}}]}),"gb"!==tmgAds.page.geo&&"ie"!==tmgAds.page.geo&&"im"!==tmgAds.page.geo&&"je"!==tmgAds.page.geo&&"gg"!==tmgAds.page.geo&&e.adUnits.push({code:"advert_tmg_dyn_0",mediaTypes:{video:{playerSize:[640,360],mimes:["video/mp4"],context:"outstream"}},bids:[{bidder:"teadsclient",params:{pageId:"114348",placementId:"124194,",video:{skippable:!0,playback_method:["auto_play_sound_off"]}}}]}),e.adUnits.push({code:"advert_tmg_dyn_0",mediaTypes:{video:{playerSize:[640,360],mimes:["video/mp4"],context:"outstream"}},bids:[{bidder:"ozone",params:{publisherId:"OZONETMG0001",siteId:"4204204201",placementId:"1420420621",customData:t("advert_tmg_dyn_0"),video:{skippable:!0,playback_method:["auto_play_sound_off"]}}}]})}if("m"==tmgAds.layout.viewport)if("index"==tmgAds.page.pagetype||"topic"==tmgAds.page.pagetype||"video-index"==tmgAds.page.pagetype||"travel-destinations"==tmgAds.page.pagetype){for(e.adUnits.push({code:"advert_tmg_ban-0420420611",mediaTypes:{banner:{sizes:[[728,90]]}},bids:[{bidder:"ozone",params:{publisherId:"OZONETMG0001",siteId:"4204204210",placementId:"0420420611",customData:t("advert_tmg_ban")}}]}),i=0;i<=e.bincount-1;i++)e.adUnits.push({code:"advert_tmg_bin_"+i+"-1420420624",mediaTypes:{banner:{sizes:[[728,90]]}},bids:[{bidder:"ozone",params:{publisherId:"OZONETMG0001",siteId:"4204204210",placementId:"1420420624",customData:t("advert_tmg_bin_"+i)}}]});for(i=0;i<=e.lmpucount-1;i++)e.adUnits.push({code:"advert_tmg_lmpu_"+i+"-1420420625",mediaTypes:{banner:{sizes:[[300,250]]}},bids:[{bidder:"ozone",params:{publisherId:"OZONETMG0001",siteId:"4204204210",placementId:"1420420625",customData:t("advert_tmg_lmpu_"+i)}}]});for(e.adUnits.push({code:"advert_tmg_ban-864209",mediaTypes:{banner:{sizes:[[728,90]]}},bids:[{bidder:"criteoclient",params:{networkId:502}}]}),i=0;i<=e.bincount-1;i++)e.adUnits.push({code:"advert_tmg_bin_"+i+"-864213",mediaTypes:{banner:{sizes:[[728,90]]}},bids:[{bidder:"criteoclient",params:{networkId:502}}]});for(i=0;i<=e.lmpucount-1;i++)e.adUnits.push({code:"advert_tmg_lmpu_"+i+"-864214",mediaTypes:{banner:{sizes:[[300,250]]}},bids:[{bidder:"criteoclient",params:{networkId:502}}]})}else{for(i=0;i<=e.gadcount-1;i++)e.adUnits.push({code:"advert_tmg_gad_"+i+"-1420420624",mediaTypes:{banner:{sizes:[[728,90]]}},bids:[{bidder:"ozone",params:{publisherId:"OZONETMG0001",siteId:"4204204210",placementId:"1420420624",customData:t("advert_tmg_gad_"+i)}}]});for(e.adUnits.push({code:"advert_tmg_ban-0420420611",mediaTypes:{banner:{sizes:[[728,90]]}},bids:[{bidder:"ozone",params:{publisherId:"OZONETMG0001",siteId:"4204204210",placementId:"0420420611",customData:t("advert_tmg_ban")}}]}),e.adUnits.push({code:"advert_tmg_ban-0420420615",mediaTypes:{banner:{sizes:[[728,90]]}},bids:[{bidder:"ozone",params:{publisherId:"OZONETMG0001",siteId:"4204204210",placementId:"0420420615",customData:t("advert_tmg_ban")}}]}),i=1;i<=e.dyncount-1;i++)e.adUnits.push({code:"advert_tmg_dyn_"+i+"-0420420616",mediaTypes:{banner:{sizes:[[300,250],[320,50]]}},bids:[{bidder:"ozone",params:{publisherId:"OZONETMG0001",siteId:"4204204210",placementId:"0420420616",customData:t("advert_tmg_dyn_"+i)}}]});for(i=0;i<=e.gadcount-1;i++)e.adUnits.push({code:"advert_tmg_gad_"+i+"-864213",mediaTypes:{banner:{sizes:[[728,90]]}},bids:[{bidder:"criteoclient",params:{networkId:502}}]});for(e.adUnits.push({code:"advert_tmg_ban-864209",mediaTypes:{banner:{sizes:[[728,90]]}},bids:[{bidder:"criteoclient",params:{networkId:502}}]}),e.adUnits.push({code:"advert_tmg_bbb-864215",mediaTypes:{banner:{sizes:[[728,90]]}},bids:[{bidder:"criteoclient",params:{networkId:502}}]}),i=0;i<=e.dyncount-1;i++)e.adUnits.push({code:"advert_tmg_dyn_"+i+"-864212",mediaTypes:{banner:{sizes:[[300,250]]}},bids:[{bidder:"criteoclient",params:{networkId:502}}]});if("gb"!==tmgAds.page.geo&&"ie"!==tmgAds.page.geo&&"im"!==tmgAds.page.geo&&"je"!==tmgAds.page.geo&&"gg"!==tmgAds.page.geo){for(i=1;i<=e.dyncount-1;i++)e.adUnits.push({code:"advert_tmg_dyn_"+i,mediaTypes:{banner:{sizes:[[300,250],[300,215],[300,189],[1,1]]}},bids:[{bidder:"teadsclient",params:{placementId:"99348",pageId:"91661"}}]});e.adUnits.push({code:"advert_tmg_dyn_0",mediaTypes:{video:{playerSize:[640,360],mimes:["video/mp4"],context:"outstream"}},bids:[{bidder:"teadsclient",params:{pageId:"114348",placementId:"124194,",video:{skippable:!0,playback_method:["auto_play_sound_off"]}}}]})}"gb"!=tmgAds.page.geo&&"ie"!=tmgAds.page.geo&&"im"!=tmgAds.page.geo&&"je"!=tmgAds.page.geo&&"gg"!=tmgAds.page.geo||(e.adUnits.push({code:"advert_tmg_dyn_1",mediaTypes:{banner:{sizes:[[300,250],[300,215],[300,189],[1,1]]}},bids:[{bidder:"teadsclient",params:{placementId:"99348",pageId:"91661"}}]}),e.adUnits.push({code:"advert_tmg_dyn_3",mediaTypes:{banner:{sizes:[[300,250],[300,215],[300,189],[1,1]]}},bids:[{bidder:"teadsclient",params:{placementId:"99348",pageId:"91661"}}]}),e.adUnits.push({code:"advert_tmg_dyn_5",mediaTypes:{banner:{sizes:[[300,250],[300,215],[300,189],[1,1]]}},bids:[{bidder:"teadsclient",params:{placementId:"99348",pageId:"91661"}}]}),e.adUnits.push({code:"advert_tmg_dyn_7",mediaTypes:{banner:{sizes:[[300,250],[300,215],[300,189],[1,1]]}},bids:[{bidder:"teadsclient",params:{placementId:"99348",pageId:"91661"}}]}),e.adUnits.push({code:"advert_tmg_dyn_9",mediaTypes:{banner:{sizes:[[300,250],[300,215],[300,189],[1,1]]}},bids:[{bidder:"teadsclient",params:{placementId:"99348",pageId:"91661"}}]})),e.adUnits.push({code:"advert_tmg_dyn_0",mediaTypes:{video:{playerSize:[640,360],mimes:["video/mp4"],context:"outstream"}},bids:[{bidder:"ozone",params:{publisherId:"OZONETMG0001",siteId:"4204204201",placementId:"0420420616",customData:t("advert_tmg_dyn_0"),video:{skippable:!0,playback_method:["auto_play_sound_off"]}}}]})}if("xs"==tmgAds.layout.viewport||"s"==tmgAds.layout.viewport)if("index"==tmgAds.page.pagetype||"topic"==tmgAds.page.pagetype||"video-index"==tmgAds.page.pagetype||"travel-destinations"==tmgAds.page.pagetype){for(i=0;i<=e.bincount-1;i++)e.adUnits.push({code:"advert_tmg_bin_"+i+"-1420420627",mediaTypes:{banner:{sizes:[[300,250],[320,50]]}},bids:[{bidder:"ozone",params:{publisherId:"OZONETMG0001",siteId:"4204204210",placementId:"1420420627",customData:t("advert_tmg_bin_"+i)}}]});for(i=0;i<=e.lmpucount-1;i++)e.adUnits.push({code:"advert_tmg_lmpu_"+i+"-1420420628",mediaTypes:{banner:{sizes:[[300,250],[320,50]]}},bids:[{bidder:"ozone",params:{publisherId:"OZONETMG0001",siteId:"4204204210",placementId:"1420420628",customData:t("advert_tmg_lmpu_"+i)}}]});for(i=0;i<=e.bincount-1;i++)e.adUnits.push({code:"advert_tmg_bin_"+i+"-864221",mediaTypes:{banner:{sizes:[[300,250],[320,50]]}},bids:[{bidder:"criteoclient",params:{networkId:502}}]});for(i=0;i<=e.lmpucount-1;i++)e.adUnits.push({code:"advert_tmg_lmpu_"+i+"-864222",mediaTypes:{banner:{sizes:[[300,250],[320,50]]}},bids:[{bidder:"criteoclient",params:{networkId:502}}]})}else{for(i=0;i<=e.gadcount-1;i++)e.adUnits.push({code:"advert_tmg_gad_"+i+"-1420420627",mediaTypes:{banner:{sizes:[[300,250],[320,50]]}},bids:[{bidder:"ozone",params:{publisherId:"OZONETMG0001",siteId:"4204204210",placementId:"1420420627",customData:t("advert_tmg_gad_"+i)}}]});for(e.adUnits.push({code:"advert_tmg_ban-0420420607",mediaTypes:{banner:{sizes:[[300,250],[320,50]]}},bids:[{bidder:"ozone",params:{publisherId:"OZONETMG0001",siteId:"4204204210",placementId:"0420420607",customData:t("advert_tmg_ban")}}]}),e.adUnits.push({code:"advert_tmg_bbb-0420420619",mediaTypes:{banner:{sizes:[[300,250],[320,50]]}},bids:[{bidder:"ozone",params:{publisherId:"OZONETMG0001",siteId:"4204204210",placementId:"0420420619",customData:t("advert_tmg_bbb")}}]}),e.adUnits.push({code:"advert_tmg_mpu-0420420608",mediaTypes:{banner:{sizes:[[300,250],[320,50]]}},bids:[{bidder:"ozone",params:{publisherId:"OZONETMG0001",siteId:"4204204210",placementId:"0420420608",customData:t("advert_tmg_mpu")}}]}),e.adUnits.push({code:"advert_tmg_hpg-0420420609",mediaTypes:{banner:{sizes:[[300,250],[320,50]]}},bids:[{bidder:"ozone",params:{publisherId:"OZONETMG0001",siteId:"4204204210",placementId:"0420420609",customData:t("advert_tmg_hpg")}}]}),i=1;i<=e.dyncount-1;i++)e.adUnits.push({code:"advert_tmg_dyn_"+i+"-0420420610",mediaTypes:{banner:{sizes:[[300,250],[320,50]]}},bids:[{bidder:"ozone",params:{publisherId:"OZONETMG0001",siteId:"4204204210",placementId:"0420420610",customData:t("advert_tmg_dyn_"+i)}}]});for(i=0;i<=e.gadcount-1;i++)e.adUnits.push({code:"advert_tmg_gad_"+i+"-864221",mediaTypes:{banner:{sizes:[[300,250],[320,50]]}},bids:[{bidder:"criteoclient",params:{networkId:502}}]});for(e.adUnits.push({code:"advert_tmg_ban-864217",mediaTypes:{banner:{sizes:[[300,250],[320,50]]}},bids:[{bidder:"criteoclient",params:{networkId:502}}]}),e.adUnits.push({code:"advert_tmg_bbb-864223",mediaTypes:{banner:{sizes:[[300,250],[320,50]]}},bids:[{bidder:"criteoclient",params:{networkId:502}}]}),i=0;i<=e.dyncount-1;i++)e.adUnits.push({code:"advert_tmg_dyn_"+i+"-864220",mediaTypes:{banner:{sizes:[[300,250],[320,50]]}},bids:[{bidder:"criteoclient",params:{networkId:502}}]});if(e.adUnits.push({code:"advert_tmg_bbb",mediaTypes:{banner:{sizes:[[300,250],[300,215],[300,189],[1,1]]}},bids:[{bidder:"teadsclient",params:{placementId:"102335",pageId:"94519"}}]}),"gb"!==tmgAds.page.geo&&"ie"!==tmgAds.page.geo&&"im"!==tmgAds.page.geo&&"je"!==tmgAds.page.geo&&"gg"!==tmgAds.page.geo){for(i=1;i<=e.dyncount-1;i++)e.adUnits.push({code:"advert_tmg_dyn_"+i,mediaTypes:{banner:{sizes:[[300,250],[300,215],[300,189],[1,1]]}},bids:[{bidder:"teadsclient",params:{placementId:"99345",pageId:"91658"}}]});e.adUnits.push({code:"advert_tmg_dyn_0",mediaTypes:{video:{playerSize:[640,360],mimes:["video/mp4"],context:"outstream"}},bids:[{bidder:"teadsclient",params:{pageId:"114348",placementId:"124194,",video:{skippable:!0,playback_method:["auto_play_sound_off"]}}}]})}for("gb"!=tmgAds.page.geo&&"ie"!=tmgAds.page.geo&&"im"!=tmgAds.page.geo&&"je"!=tmgAds.page.geo&&"gg"!=tmgAds.page.geo||(e.adUnits.push({code:"advert_tmg_dyn_1",mediaTypes:{banner:{sizes:[[300,250],[300,215],[300,189],[1,1]]}},bids:[{bidder:"teadsclient",params:{placementId:"99345",pageId:"91658"}}]}),e.adUnits.push({code:"advert_tmg_dyn_3",mediaTypes:{banner:{sizes:[[300,250],[300,215],[300,189],[1,1]]}},bids:[{bidder:"teadsclient",params:{placementId:"99345",pageId:"91658"}}]}),e.adUnits.push({code:"advert_tmg_dyn_5",mediaTypes:{banner:{sizes:[[300,250],[300,215],[300,189],[1,1]]}},bids:[{bidder:"teadsclient",params:{placementId:"99345",pageId:"91658"}}]}),e.adUnits.push({code:"advert_tmg_dyn_7",mediaTypes:{banner:{sizes:[[300,250],[300,215],[300,189],[1,1]]}},bids:[{bidder:"teadsclient",params:{placementId:"99345",pageId:"91658"}}]}),e.adUnits.push({code:"advert_tmg_dyn_9",mediaTypes:{banner:{sizes:[[300,250],[300,215],[300,189],[1,1]]}},bids:[{bidder:"teadsclient",params:{placementId:"99345",pageId:"91658"}}]})),e.adUnits.push({code:"advert_tmg_ban-323085",mediaTypes:{banner:{sizes:[[300,250],[320,50]]}},bids:[{bidder:"ix",params:{siteId:"323085",size:[300,250]}},{bidder:"ix",params:{siteId:"323085",size:[320,50]}}]}),e.adUnits.push({code:"advert_tmg_bbb-357827",mediaTypes:{banner:{sizes:[[300,250],[320,50]]}},bids:[{bidder:"ix",params:{siteId:"357827",size:[300,250]}},{bidder:"ix",params:{siteId:"357827",size:[320,50]}}]}),e.adUnits.push({code:"advert_tmg_mpu-323088",mediaTypes:{banner:{sizes:[[300,250],[320,50]]}},bids:[{bidder:"ix",params:{siteId:"323088",size:[300,250]}},{bidder:"ix",params:{siteId:"323088",size:[320,50]}}]}),e.adUnits.push({code:"advert_tmg_hpg-323087",mediaTypes:{banner:{sizes:[[300,250],[320,50]]}},bids:[{bidder:"ix",params:{siteId:"323087",size:[300,250]}},{bidder:"ix",params:{siteId:"323087",size:[320,50]}}]}),i=0;i<=e.dyncount-1;i++)e.adUnits.push({code:"advert_tmg_dyn_0-323086",mediaTypes:{banner:{sizes:[[300,250],[320,50]]}},bids:[{bidder:"ix",params:{siteId:"323086",size:[300,250]}},{bidder:"ix",params:{siteId:"323086",size:[320,50]}}]});e.adUnits.push({code:"advert_tmg_dyn_0",mediaTypes:{video:{playerSize:[640,360],mimes:["video/mp4"],context:"outstream"}},bids:[{bidder:"ozone",params:{publisherId:"OZONETMG0001",siteId:"4204204201",placementId:"0420420610",customData:t("advert_tmg_dyn_0"),video:{skippable:!0,playback_method:["auto_play_sound_off"]}}}]})}return e.adUnits}function tmgAdsPerf(e,t){if(void 0!==window.RUM){if(tmgAdsLog("SUCCESS: RUM installed.... go go go go! - "+e+" - "+t[0]),"now"==e)return RUM.now();if("mark"==e)return tmgAds.metrics[t[0]]=tmgAdsTimer(),RUM.mark(t[0]);if("measure"==e)return RUM.measure(t[0],t[1],t[2])}else if(void 0!==window.performance){if(tmgAdsLog("WARNING: RUM NOT installed.... using window.performance API instead! - "+e+" - "+t[0]),tmgAds.log.push("Performance: RUM Not installed, using performance API - "+e+" - "+t[0]),"now"==e)return window.performance.now();if("mark"==e)return tmgAds.metrics[t[0]]=tmgAdsTimer(),window.performance.mark(t[0]);if("measure"==e)return window.performance.measure(t[0],t[1],t[2])}else{if(tmgAdsLog("WARNING: RUM NOT installed AND window.performance not supported... - "+e+" - "+t[0]),tmgAds.log.push("Performance: No RUM, No perrformance API - "+e+" - "+t[0]),"now"==e)return RUM.now();if("mark"==e)return void(tmgAds.metrics[t[0]]=tmgAdsTimer());if("measure"==e)return}}function tmgAdsGetObj(e){return window[e]}function tmgAdsInitConfig(){try{tmgAdsEvent("tmggpt-init-conf:start"),tmgAds.config={viewportstatus:!0,refurl:!0},tmgAds.config.deliveryModels=tmgAds.model,tmgAds.prodServers.indexOf(window.location.host)>=0||tmgAds.appServers.indexOf(window.location.host)>=0?tmgAds.config.productionAds=!0:(console.log("tmgAdsInitConfig: non-production server - turn on production ads on this page by adding url-param ?adsShowProductionAds"),tmgAds.config.productionAds=!1),window.location.href.indexOf("adsShowProductionAds")>=0&&(console.log("tmgAdsInitConfig: turning on production ads through url param -> adsShowProductionAds"),tmgAds.config.productionAds=!0),tmgAdsLog("tmgAdsInitConfig: initialisation"),tmgAdsEvent("tmggpt-init-conf:end")}catch(e){tmgAdsLog("tmgAdsInitConfig: ERROR failed -> error="+e.message),tmgAdsEvent("tmggpt-init-conf:end")}}function tmgAdsInitData(){for(var e in tmgAdsEvent("tmggpt-init-data:start"),tmgAds.counters={},tmgAds.page=tmgAdsGetPageData(),tmgAds.tmg=tmgAdsGetTMGUserData(),tmgAds.adobe=tmgAdsGetAdobe(),tmgAds.browser=tmgAdsGetBrowserData(),tmgAds.cookies={all:document.cookie},tmgAds.cookies.adops=tmgAdsGetTMGCookies("adops"),tmgAds.page.cms=tmgAdsGetCMS(),tmgAds.page.combinedApp=tmgAdsGetCombinedApp(),tmgAds.plugins.blockdomain)tmgAds.plugins.blockdomain.hasOwnProperty(e)&&tmgAds.page.domain==tmgAds.plugins.blockdomain[e]&&(tmgAds.plugins.adkill=!0,tmgAdsLog("tmgAdsInitData: This page is being viewed through one of our AEM preview instances, turning ads off in: "+tmgAds.plugins.blockdomain[e]));tmgAdsLog("tmgAdsInitData: initialisation"),tmgAdsEvent("tmggpt-init-data:end")}function tmgAdsInitDFP(){tmgAdsEvent("tmggpt-init-dfp:start"),tmgAds.dfp=tmgAdsGetDFPData(),tmgAdsUpdateDFPCustomVars(),tmgAds.dfp.gpt=tmgAdsGetGPTSetup(tmgAds.dfp.gpt),tmgAds.dfp.adunit="/"+tmgAds.dfp.networkid+"/"+tmgAds.dfp.sitezone,tmgAdsLog("tmgAdsInitDFP: AdUnit set to: "+tmgAds.dfp.adunit),tmgAds.geo=tmgAdsGetGeoAPI(),tmgAdsAdjustSizeMapping(),tmgAds.adCount=0,tmgAds.dynCount=0,tmgAdsEvent("tmggpt-init-dfp:end")}function tmgAdsInitAdminEventHandlers(){tmgAdsLog("tmgAdsInitAdminEventHandlers: called");try{document.addEventListener("tmgAds:tmggpt-revertStickyBanner",(function(e){window.tmgAdsTimer();tmgAdsLog("EVENT: tmgAds:tmggpt-revertStickyBanner"),tmgAdsLog("tmgAds:tmggpt-revertStickyBanner: We will now close down the sticky ad for the this adunit: "+window.tmgAds.config.deliveryModel.model),document.getElementById("advert_tmg_"+window.tmgAds.config.deliveryModel.model).style.height="0px",setTimeout((function(){document.getElementsByClassName("is-sticky")[0].style.height="0px"}),1e3)})),document.addEventListener("tmgAds:tmggpt-collapseStickyAdslot",(function(e){window.tmgAdsTimer();tmgAdsLog("EVENT: tmgAds:tmggpt-collapseStickyAdslot"),tmgAdsLog("tmgAds:tmggpt-collapseStickyAdslot: removing is-sticky class from advert_tmg_ban"),document.querySelector(".is-sticky").classList.remove("is-sticky"),window.tmgAds.plugins.mytelegraph.isApplied&&(document.getElementsByClassName("my-telegraph")[0].style.top="0px")}))}catch(e){tmgAdsLog("ERROR: tmgAdsInitAdminEventHandlers() - failed -> error="+e.message)}}function tmgAdsInitGPTEventHandlers(){window.tmgAds.log("tmgAdsInitGPTEventHandlers: called");try{googletag.cmd.push((function(){googletag.pubads().addEventListener("slotRequested",(function(e){var t=window.tmgAdsTimer(),s=e.slot.getTargeting("div");e.slot.getTargeting("at");window.tmgAds.log("slotRequested - "+s),window.tmgAds.metrics.ads[s]=window.tmgAds.metrics.ads[s]||{},window.tmgAds.metrics.ads[s].gam_slotRequested=t,window.tmgAds.metrics.ads[s].gam_targetingMap=e.slot.getTargetingMap(),window.tmgAds.metrics.ads[s].gam_isViewableAcheived=!1,window.tmgAds.metrics.ads[s].gam_isViewableStatus=!1,window.tmgAds.metrics.ads[s].gam_isViewableTimeFirst=0,window.tmgAds.metrics.ads[s].gam_isViewableTimeStart=0,window.tmgAds.metrics.ads[s].gam_isViewableTimeEnd=0,window.tmgAds.metrics.ads[s].gam_isViewableTimeInView=0,window.tmgAds.metrics.ads[s].gam_isBackfill=null,window.tmgAds.metrics.ads[s].gam_isEmpty=null,window.tmgAds.metrics.ads[s].gam_size=null,window.tmgAds.metrics.ads[s].gam_data_google_query_id=null,window.tmgAds.metrics.ads[s].isAdmin=null,window.tmgAds.metrics.ads[s].isOzone=null,window.tmgAds.metrics.ads[s].sizeW=null,window.tmgAds.metrics.ads[s].sizeH=null,window.tmgAds.metrics.ads[s].size=null,window.tmgAds.metrics.ads[s].prebid_adRenderSucceeded=null,window.tmgAds.metrics.ads[s].prebid_adRenderFailed=null,window.tmgAds.metrics.ads[s].latency_slotOnload=null,window.tmgAds.metrics.ads[s].latency_slotResponseReceived=null,window.tmgAds.metrics.ads[s].latency_slotRenderEnded=null,window.tmgAds.metrics.ads[s].latency_impressionViewable=null})),googletag.pubads().addEventListener("slotResponseReceived",(function(e){var t="slotResponseReceived",s=window.tmgAdsTimer(),d=e.slot.getTargeting("div");window.tmgAds.log(t+" - "+d),window.tmgAds.metrics.ads[d].gam_slotResponseReceived=s,window.tmgAds.metrics.ads[d].latency_slotResponseReceived=s-window.tmgAds.metrics.ads[d].gam_slotRequested,void 0===window.tmgAds.metrics.adStack.tmggpt_firstAdResponseReceived&&(window.tmgAds.metrics.adStack.tmggpt_firstAdResponseReceived=s,window.tmgAds.log(t+" - "+d+" - First Ad Requested",tmgAds.metrics.adStack.tmggpt_firstAdResponseReceived))})),googletag.pubads().addEventListener("slotOnload",(function(e){var t=window.tmgAdsTimer(),s=e.slot.getTargeting("div");window.tmgAds.log("slotOnload - "+s),window.tmgAds.metrics.ads[s].gam_slotOnload=t,window.tmgAds.metrics.ads[s].latency_slotOnload=t-window.tmgAds.metrics.ads[s].gam_slotRequested})),googletag.pubads().addEventListener("slotRenderEnded",(function(e){var t="slotRenderEnded",s=window.tmgAdsTimer(),d=e.slot.getTargeting("div"),i=e.slot.getTargeting("at"),a=e.slot.getTargeting("vp"),n=e.slot.getTargeting("pr"),o=e.slot.getTargeting("tmgadlite"),r=e.slot.getTargeting("pt"),m=e.slot.getTargeting("natid"),g=d+"_title",l=d+"_container",p=document.getElementById(d);window.tmgAds.log(t+" - "+d),window.tmgAds.metrics.ads[d].gam_slotRenderEnded=s,window.tmgAds.metrics.ads[d].gam_advertiserId=e.advertiserId,window.tmgAds.metrics.ads[d].gam_campaignId=e.campaignId,window.tmgAds.metrics.ads[d].gam_lineItemId=e.lineItemId,window.tmgAds.metrics.ads[d].gam_creativeId=e.creativeId,window.tmgAds.metrics.ads[d].gam_isBackfill=e.isBackfill,window.tmgAds.metrics.ads[d].gam_isEmpty=e.isEmpty,window.tmgAds.metrics.ads[d].gam_size=e.size,window.tmgAds.metrics.ads[d].gam_data_google_query_id=e.slot.getEscapedQemQueryId(),e.isEmpty?(window.tmgAds.log(t+": "+d+" - EMPTY we have nothing to show"),"dyn"==i&&(document.getElementById(l)&&(document.getElementById(l).style.display="none"),window.tmgAds.log(t+": "+d+" - EMPTY - dyn - collpasing container= "+l+' -- document.getElementById("'+l+'").style.display = "none"',"",!0)),p.classList.add("is-empty"),p.classList.remove("is-loaded"),p.style.height=0,p.style.opacity=0):(e.size[0]&&(window.tmgAds.metrics.ads[d].sizeW=e.size[0]),e.size[1]&&(window.tmgAds.metrics.ads[d].sizeH=e.size[1]),e.size[0]&&e.size[1]&&(window.tmgAds.metrics.ads[d].size=e.size[0]+"x"+e.size[1]),"14636214"==e.advertiserId?window.tmgAds.metrics.ads[d].isAdmin=!0:window.tmgAds.metrics.ads[d].isAdmin=!1,"4601002451"==e.advertiserId?window.tmgAds.metrics.ads[d].isOzone=!0:window.tmgAds.metrics.ads[d].isOzone=!1,window.tmgAds.metrics.ads[d].isAdLite="true"==o,"dyn"==i&&(document.getElementById(l)&&(document.getElementById(l).style.height="auto"),document.getElementById(l)&&(document.getElementById(l).style.marginBottom="24px"),document.getElementById(g)&&(document.getElementById(g).style.padding="4px"),document.getElementById(g)&&(document.getElementById(g).style.height="auto"),document.getElementById(g)&&(document.getElementById(g).style.marginBottom="0px"),document.getElementById(g)&&(document.getElementById(g).innerText="Advertisement"),document.getElementById(d)&&(document.getElementById(d).style.padding="0px"),document.getElementById(d)&&(document.getElementById(d).style.marginTop="0px"),document.getElementById(d)&&(document.getElementById(d).style.marginBottom="0px"),document.getElementById(d)&&(document.getElementById(d).style.height="auto")),window.tmgAds.tmg&&!0===window.tmgAds.tmg.isAdLite&&tmgAdsAdLiteStyling(e.advertiserId,i,d,a,n),p.classList.add("is-loaded"),p.classList.remove("is-empty"),p.style.opacity=1,"nat"==i?(-1!=m.indexOf("nat_story_list_onward_mob")&&(p.style.marginTop="-16px",p.style.marginBottom="-16px",window.tmgAds.log(t+" - "+d+" - "+m+" - vp="+a+" - setting marginBottom & marginTop = 16px")),"nat_story_sparkbrain_1"!=m&&"nat_story_sparkbrain_2"!=m&&"nat_story_outbrain"!=m||(p.style.marginBottom="0px",window.tmgAds.log(t+" - "+d+" - "+m+" - vp="+a+" - setting marginBottom = 0px")),p.style.height="auto"):p.style.height=e.size[1]+"px","mytelegraph"==window.tmgAds.page.businessseg&&("x"==a||"l"==a||"m"==a?p.style.height=e.size[1]+15+"px":(p.style.height=e.size[1]+30+"px",p.style.paddingTop="15px")),!window.tmgAds.plugins.mytelegraph.isApplied||"desktop"!=window.tmgAds.plugins.mytelegraph.isPlatform||"ban"!=i&&"mpu"!=i||"ban"!=i||"index"!=r&&"topic"!=r||"m"!=a&&"ban"==window.tmgAds.config.deliveryModel.activityStatus&&(document.getElementsByClassName("my-telegraph")[0].style.top=e.size[1]+16+"px")),window.tmgAds.metrics.ads[d].latency_slotRenderEnded=s-window.tmgAds.metrics.ads[d].gam_slotRequested,void 0===tmgAds.metrics.adStack.tmggpt_firstAdRendered&&(window.tmgAds.metrics.adStack.tmggpt_firstAdRendered=s,window.tmgAds.log("GAM: "+t+" - "+d+" - First Ad Requested",tmgAds.metrics.tmggpt_firstAdRendered))})),googletag.pubads().addEventListener("slotVisibilityChanged",(function(e){var t="slotVisibilityChanged",s=window.tmgAdsTimer(),d=e.slot.getTargeting("div");window.tmgAds.metrics.ads[d].gam_inViewaPercentage=e.inViewPercentage,window.tmgAds.log(t+" - "+d+" - event.inViewPercentage = "+window.tmgAds.metrics.ads[d].gam_inViewaPercentage),e.inViewPercentage<50&&(window.tmgAds.config.deliveryModel.sticky&&d==window.tmgAds.config.deliveryModel.model&&(window.tmgAds.config.viewportstatus=!1),1==window.tmgAds.metrics.ads[d].gam_isViewableStatus&&(window.tmgAds.metrics.ads[d].gam_isViewableStatus=!1,window.tmgAds.metrics.ads[d].gam_isViewableTimeEnd=window.tmgAdsTimer(),window.tmgAds.metrics.ads[d].gam_isViewableTimeInView=window.tmgAds.metrics.ads[d].gam_isViewableTimeInView+(window.tmgAds.metrics.ads[d].gam_isViewableTimeEnd-window.tmgAds.metrics.ads[d].gam_isViewableTimeStart),window.tmgAds.log(t+" - "+d+" - Viewability Changed < 50% - stop counting - calculated timeInView = "+window.tmgAds.metrics.ads[d].gam_isViewableTimeInView))),e.inViewPercentage>=50&&(window.tmgAds.config.deliveryModel.sticky&&d==window.tmgAds.config.deliveryModel.model&&(window.tmgAds.config.viewportstatus=!0),0==window.tmgAds.metrics.ads[d].gam_isViewableStatus&&(window.tmgAds.log(t+" - "+d+" - Viewability Changed > 50% - start counting"),window.tmgAds.metrics.ads[d].gam_isViewableStatus=!0,window.tmgAds.metrics.ads[d].gam_isViewableAcheived=!0,window.tmgAds.metrics.ads[d].gam_isViewableTimeEnd=0,window.tmgAds.metrics.ads[d].gam_isViewableTimeStart=window.tmgAdsTimer(),null===window.tmgAds.metrics.ads[d].latency_impressionViewable&&(window.tmgAds.metrics.ads[d].latency_impressionViewable=s-window.tmgAds.metrics.ads[d].gam_slotRequested)))}))})),googletag.pubads().addEventListener("impressionViewable",(function(e){var t=window.tmgAdsTimer(),s=e.slot.getTargeting("div");window.tmgAds.log("impressionViewable - "+s),window.tmgAds.metrics.ads[s].gam_isViewableAcheived=!0,window.tmgAds.metrics.ads[s].gam_isViewableStatus=!0,window.tmgAds.metrics.ads[s].gam_impressionViewable=t,window.tmgAds.metrics.ads[s].gam_isViewableTimeFirst=window.tmgAds.metrics.ads[s].gam_isViewableTimeStart=t})),document.addEventListener("tmg:init-ads",(function(e){window.tmgAdsTimer();for(var t in window.tmgAds.log("EVENT: tmg:init-ads"),tmgAdsInitData(),tmgAdsInitDFP(tmgAds),tmgAds.ads)tmgAds.ads.hasOwnProperty(t)&&(googletag.destroySlots([tmgAds.ads[t].adslot]),googletag.cmd.push(tmgAdsBuildAd(tmgAds.ads[t].div,"","").display()))}))}catch(e){window.tmgAds.log("tmgAdsInitGPTEventHandlers: ERROR - failed -> error="+e.message)}}function tmgAdsInitGeoAPIStatus(){try{void 0!==window.googletag?tmgAds.plugins.gpt.setLocation?(tmgAdsLog("tmgAdsGeoAPIStatus: obj.plugins.gpt.setLocation is ACTIVATED for this site - now lets check if the browsers currently supports the Geo-API feature"),1==tmgAds.geo.supported?(tmgAdsLog("tmgAdsGeoAPIStatus: obj.geo.supported IS supported - now lets check if the browser supports this feature"),1==tmgAds.geo.available?(tmgAdsLog("tmgAdsGeoAPIStatus: obj.geo.available IS available - setting the following: googletag.setLocation("+tmgAds.geo.api.longitude+", "+tmgAds.geo.api.latitude+", "+tmgAds.geo.api.accuracy+") [longitude,latitude,accuracy]"),googletag.cmd.push((function(){googletag.setLocation(tmgAds.geo.api.longitude,tmgAds.geo.api.latitude,tmgAds.geo.api.accuracy)}))):tmgAdsLog("tmgAdsGeoAPIStatus: obj.geo.available IS NOT available")):tmgAdsLog("tmgAdsGeoAPIStatus: obj.geo.supported IS NOT supported.")):tmgAdsLog("tmgAdsGeoAPIStatus: obj.plugins.gpt.setLocation is NOT ACTIVATED for this site."):tmgAdsLog("tmgAdsGeoAPIStatus: WARNING: googletag obj does not exist")}catch(e){tmgAdsLog("ERROR: tmgAdsInitGeoAPIStatus() - failed -> error="+e.message,event)}}function tmgAdsGetSizeMatrix(){return{ban:[[970,250],[970,90],[970,66],[940,250],[900,250],[728,90]],mpu:[[300,1050],[300,600],[300,250]],sky:[[300,1050],[300,600],[300,250],[160,600],[120,600]],hpg:[[300,1050],[300,600],[300,250],[160,600],[120,600]],mob:[[300,250],[320,100],[320,50],[300,50]],nat:"fluid",com:[300,260],car:[300,250],pp:[7,7],ins:"5x5",yel:[3,3],inr:[1,1],tmg:[1,1],ftr:[1,1],vid:"620x415"}}function tmgAdsGetDFPData(){var e={pos:0,tile:0,adserver:tmgAds.plugins.gpt.servername,networkid:tmgAds.plugins.gpt.networkid,site:tmgAds.page.site,sitename:"tmg.telegraph."+tmgAds.page.site,zonename:tmgAds.page.zone.substr(0,100),sitezone:"tmg.telegraph."+tmgAds.page.site+"/"+tmgAds.page.zone.substr(0,100),ord:Number(new Date)};return tmgAds.plugins.adteston&&(console.log("tmgAdsGetDFPData: adteston has been declared, we now change adunits to tmg.telegraph.test/test"),e.site="test",e.sitename="tmg.telegraph.test",e.zonename="tmg.telegraph.test/test",e.sitezone="tmg.telegraph.test/test"),tmgAdsLog("tmgads.dfp.site     = "+e.site),tmgAdsLog("tmgads.dfp.sitename = "+e.sitename),tmgAdsLog("tmgads.dfp.zonename = "+e.zonename),tmgAdsLog("tmgads.dfp.sitezone = "+e.sitezone),e}function tmgAdsAdjustSizeMapping(){"puzzles"==tmgAds.dfp.site&&(tmgAdsLog("ALERT: site is not covered by default sizeing values, we are resetting these now -> at=ban -> site="+tmgAds.dfp.site),tmgAds.config.adsizematrix.ban=[[728,90],[900,250],[940,250]],tmgAds.plugins.sizemapping.x.ban=[[728,90],[900,250],[940,250]],tmgAds.plugins.sizemapping.l.ban=[[728,90],[900,250],[940,250]],tmgAds.plugins.sizemapping.m.ban=[[728,90],[900,250],[940,250]],tmgAds.plugins.sizemapping.s.ban=[[728,90],[900,250],[940,250]],tmgAds.plugins.sizemapping.xs.ban=[[728,90],[900,250],[940,250]]),"fantasyfootball"==tmgAds.dfp.site&&(tmgAdsLog("ALERT: site is not covered by default sizing values, we are resetting these now -> site="+tmgAds.dfp.site),tmgAds.config.adsizematrix.ban=[728,90],tmgAds.plugins.sizemapping.x.ban=[728,90],tmgAds.plugins.sizemapping.l.ban=[728,90],tmgAds.plugins.sizemapping.m.ban=[728,90],tmgAds.plugins.sizemapping.s.ban=[320,50],tmgAds.plugins.sizemapping.xs.ban=[320,50],tmgAds.config.adsizematrix.mpu=[[300,250],[300,600]],tmgAds.plugins.sizemapping.x.mpu=[[300,250],[300,600]],tmgAds.plugins.sizemapping.l.mpu=[[300,250],[300,600]],tmgAds.plugins.sizemapping.m.mpu=[[300,250],[300,600]],tmgAds.plugins.sizemapping.s.mpu=[300,250],tmgAds.plugins.sizemapping.xs.mpu=[300,250]),"courses"!=tmgAds.dfp.site&&"clearing"!=tmgAds.dfp.site||(tmgAds.config.adsizematrix.mpu=[300,250],tmgAds.plugins.sizemapping.x.mpu=[300,250],tmgAds.plugins.sizemapping.l.mpu=[300,250],tmgAds.plugins.sizemapping.m.mpu=[300,250],tmgAds.plugins.sizemapping.s.mpu=[300,250],tmgAds.plugins.sizemapping.xs.mpu=[300,250])}function tmgAdsGetCMS(){var e="unknown";return tmgAdsLog("tmgAdsGetCMS:  cms="+(e=null===tmgAds.page.businessseg||void 0===tmgAds.page.businessseg?"escenic":"aem")),e}function tmgAdsGetCombinedApp(){var e="unknown";return tmgAds.appServers.indexOf(window.location.host)>=0?(tmgAdsLog("tmgAdsGetCombinedApp: would appear we are in app"),e="true"):(tmgAdsLog("tmgAdsGetCombinedApp: would appear we are not in app"),e="false"),tmgAdsLog("tmgAdsGetCombinedApp: returning the following values app="+e),e}function tmgAdsGetAdobe(){var e,t,s={amcv:"unavailable",aam_uuid:"unavailable"};return window._satellite?(tmgAdsLog("tmgAdsGetAdobe: window._satellite exists"),window._satellite&&window._satellite.getVisitorId()&&(tmgAdsLog("tmgAdsGetAdobe: window._satellite.getVisitorId()"),window._satellite&&window._satellite.getVisitorId()&&window._satellite.getVisitorId().getMarketingCloudVisitorID()&&(tmgAdsLog("tmgAdsGetAdobe: window._satellite.getVisitorId().getMarketingCloudVisitorID() exists",window._satellite.getVisitorId().getMarketingCloudVisitorID()),s.amcv=window._satellite.getVisitorId().getMarketingCloudVisitorID(),s.aam_uuid=tmgAdsGetCookie("aam_uuid")))):tmgAdsLog("tmgAdsGetAdobe:  window._satellite absent"),tmgAds.plugins.adobe.active&&(s.aam_cookie=tmgAdsGetCookie(tmgAds.plugins.adobe.tmgCookieName),void 0!==s.aam_cookie&&(s.dfp_raw=s.aam_cookie.substring(tmgAds.plugins.adobe.aamCookieName.length+1),s.dfp_segments=(e=s.dfp_raw.split("-"),t=[],e.forEach((function(e){-1===t.indexOf(e)&&t.push(e)})),t))),s}function tmgAdsGetTMGUserData(){var e={session:window.tmgAdsGetCookie("tmg_session"),rem:window.tmgAdsGetCookie("tmg_rem"),pid:window.tmgAdsGetCookie("tmg_pid"),p13n:window.tmgAdsGetCookie("tmg_p13n"),tmg_subs_referer:window.tmgAdsGetCookie("tmg_subs_referer"),tmg_authz_session:window.tmgAdsGetCookie("tmg_authz_session"),tmg_meter_count:window.tmgAdsCsvToObj(window.tmgAdsGetCookie("tmg_meter_count"),",",":"),tmg_web_trends:window.tmgAdsCsvToObj(window.tmgAdsGetCookie("tmg_web_trends"),",",":"),premt:!1,premo:window.tmgAds.page.dataLayer.premiumOverride,premc:window.tmgAds.page.dataLayer.premiumContent,guid:"unknown",isSubscriber:"unknown",isRegistered:"unknown",isLoggedIn:"unknown",isAnon:"unknown",isAdLite:"unknown",subsType:"unknown",userState:"anon",profile:{}};return window.tmg&&(window.tmg.pubsub&&window.tmg.pubsub.hasOwnProperty("publishedTopics")&&(-1!=window.tmg.pubsub.publishedTopics.indexOf("tmg.piano.paywall.triggered")?e.premt=!0:window.tmg.pubsub.subscribe({topic:"tmg.piano.paywall.triggered",func:function(){window.tmgAds.tmg.premt=!0},runIfAlreadyPublished:!0})),window.tmg.hasOwnProperty("user")&&(window.tmg.user.hasOwnProperty("isSubscriber")&&(e.isSubscriber=window.tmg.user.isSubscriber()),window.tmg.user.hasOwnProperty("isRegistered")&&(e.isRegistered=window.tmg.user.isRegistered()),window.tmg.user.hasOwnProperty("isLoggedIn")&&(e.isLoggedIn=window.tmg.user.isLoggedIn()),window.tmg.user.hasOwnProperty("isAdLite")&&(e.isAdLite=window.tmg.user.isAdLite()),window.tmg.user.hasOwnProperty("subscriptionType")&&(e.subsType=window.tmg.user.subscriptionType),window.tmg.user.hasOwnProperty("getProfile")&&(e.profile=window.tmg.user.getProfile()),"unknown"!=e.isRegistered&&e.isRegistered||(e.isAnon=!0)),window.tmg.hasOwnProperty("guid")?e.guid=window.tmg.guid:e.guid="unavailable",e.isRegistered&&(e.userState="reg"),e.isSubscriber&&(e.userState="sub"),window.JSON&&void 0!==e.tmg_subs_referer&&"undefined"!=e.tmg_subs_referer&&(e.tmg_subs_referer=JSON.parse(e.tmg_subs_referer))),e}function tmgAdsGetGPTSetup(e){var t=e||{};if(t.setTargeting=[],t.setTargetingStr=[],t.customvarstr="",void 0!==tmgAds.dfp.customvars)for(var s in tmgAds.dfp.customvars)tmgAds.dfp.customvars.hasOwnProperty(s)&&""!==tmgAds.dfp.customvars[s]&&(tmgAds.dfp.customvars[s]instanceof Array?(t.setTargeting.push(".setTargeting('"+s+"',tmgAds.dfp.customvars['"+s+"'])"),t.setTargetingStr+=".setTargeting('"+s+"',tmgAds.dfp.customvars['"+s+"'])"):null!==tmgAds.dfp.customvars[s]&&(t.setTargeting.push(".setTargeting('"+s+"','"+tmgAds.dfp.customvars[s]+"')"),t.setTargetingStr+=".setTargeting('"+s+"','"+tmgAds.dfp.customvars[s]+"')"),t.customvarstr+="&"+s+"="+tmgAds.dfp.customvars[s]);else tmgAdsLog("tmgAds.dfp.customvars does not exist");return t.customvarstr=t.customvarstr.substring(1),t}function tmgAdsUpdateDFPCustomVars(){var e={};void 0!==tmgAds.about.version&&(e.ver=tmgAds.about.version),void 0!==tmgAds.page.section&&(e.sc=tmgAds.page.section),void 0!==tmgAds.page.pagetype&&(e.pt=tmgAds.page.pagetype);try{tmgAds.page.dataLayer&&(e.pr=tmgAds.page.dataLayer.pageType.toLowerCase())}catch(e){console.log("ADTECH: page rendered not available -> tmgAds.page.dataLayer.pageType")}return void 0!==tmgAds.page.level&&(e.lvl=tmgAds.page.level),void 0!==tmgAds.browser.biw&&(e.biw=tmgAds.browser.biw),void 0!==tmgAds.browser.bih&&(e.bih=tmgAds.browser.bih),void 0!==tmgAds.browser.language&&(e.lang=tmgAds.browser.language.toLowerCase()),void 0!==tmgAds.page.protocol&&(e.protocol=tmgAds.page.protocol.substring(0,tmgAds.page.protocol.length-1)),void 0!==tmgAds.page.domain&&(e.rd=tmgAds.page.domain),void 0!==tmgAds.page.topdom&&(e.topdom=tmgAds.page.topdom),void 0!==tmgAds.page.cms&&(e.cms=tmgAds.page.cms),void 0!==tmgAds.page.keywords&&(e.kw=tmgAds.page.keywords),void 0!==tmgAds.page.geo&&(e.geo=tmgAds.page.geo),void 0!==tmgAds.page.editorschoice&&(e.ec=tmgAds.page.editorschoice),void 0!==tmgAds.page.mostviewed&&(e.mv=tmgAds.page.mostviewed),void 0!==tmgAds.page.mostshared&&(e.ms=tmgAds.page.mostshared),void 0!==tmgAds.page.videosrc&&(e.vidsrc=tmgAds.page.videosrc),void 0!==tmgAds.page.articleid&&(e.pg=tmgAds.page.articleid),void 0!==tmgAds.page.gamp&&(e.gamp=tmgAds.page.gamp),void 0!==tmgAds.page.refresh?e.refresh=tmgAds.page.refresh:e.refresh=0,void 0!==tmgAds.page.instanceId&&(e.pvid=tmgAds.page.instanceId),void 0!==tmgAds.page.premadexp?e.premadexp=!0:e.premadexp=!1,void 0!==tmgAds.page.combinedApp&&(e.combinedApp=tmgAds.page.combinedApp),void 0!==tmgAds.page.pageDataDFP?e.pagedata=tmgAds.page.pageDataDFP:tmgAds.page.pageDataDFP=["unset"],tmgAds.config.productionAds?e.prod="true":e.prod="false",-1!=window.location.href.indexOf("#source=refresh")&&(e.autoref=1),void 0!==tmgAds.page.docdom&&(e.docdom=tmgAds.page.docdom),void 0!==tmgAds.grapeshot&&(e.gs=tmgAds.grapeshot.dfp),void 0!==tmgAds.layout.viewport&&(e.vp=tmgAds.layout.viewport),tmgAds.page.dataLayer.premiumContent?e.premc=tmgAds.page.dataLayer.premiumContent:e.premc="false",tmgAds.page.dataLayer.premiumOverride?e.premo=tmgAds.page.dataLayer.premiumOverride:e.premo="false",tmgAds.tmg.premt?e.premt=tmgAds.tmg.premt:e.premt="false",void 0!==tmgAds.tmg.tmg_meter_count?e.tmgmvc=tmgAds.tmg.tmg_meter_count.vars.meter_viewed_count:e.tmgmvc="none",void 0!==tmgAds.tmg.tmg_meter_count?e.tmgmu=tmgAds.tmg.tmg_meter_count.vars.meter_user_viewed:e.tmgmu="none",void 0!==tmgAds.tmg.guid&&(e.tmgguid=tmgAds.tmg.guid),"undefined"!=typeof s&&s.prop32!=tmgAds.tmg.guid&&(e.tmgguid=s.prop32),e.tmgsubtype=tmgAds.tmg.profile.hasOwnProperty("subscriptionType")?tmgAds.tmg.profile.subscriptionType.toString():"unknown",e.tmgsub=tmgAds.tmg.hasOwnProperty("isSubscriber")?tmgAds.tmg.isSubscriber.toString():"unknown",e.tmgreg=tmgAds.tmg.hasOwnProperty("isRegistered")?tmgAds.tmg.isRegistered.toString():"unknown",e.tmglin=tmgAds.tmg.hasOwnProperty("isLoggedIn")?tmgAds.tmg.isLoggedIn.toString():"unknown",e.tmgusr=tmgAds.tmg.hasOwnProperty("userState")?tmgAds.tmg.userState:"unknown",e.tmgpid=tmgAds.tmg.hasOwnProperty("pid")?tmgAds.tmg.pid:"unknown",e.tmganon=tmgAds.tmg.hasOwnProperty("isAnon")?tmgAds.tmg.isAnon.toString():"unknown",e.tmgadlite=tmgAds.tmg.hasOwnProperty("isAdLite")?tmgAds.tmg.isAdLite.toString():"unknown",e.cmp=tmgAds.cmp.loadStatus,e.cmppurps=tmgAds.cmp.purposes,void 0!==tmgAds.adobe.amcv?e.amcv=tmgAds.adobe.amcv:e.amcv="none",void 0!==tmgAds.adobe.aam_uuid?e.aam=tmgAds.adobe.aam_uuid:e.aam="none",void 0!==tmgAds.adobe.dfp_segments?e.aamseg=tmgAds.adobe.dfp_segments:e.aamseg="none",window.location.search.indexOf("pbcidtest")>=0&&(console.log("ADTECH: Prebid _pubcid is ACTIVE, injecting into DFP call."),void 0!==tmgAds.plugins.prebid.commonId._pubcid?e.pubcid=tmgAds.plugins.prebid.commonId._pubcid:e.pubcid="none"),!1!==typeof tmgAds.plugins.adtest&&(e.test=tmgAds.plugins.adtest),tmgAds.plugins.adtest&&(e.test=tmgAds.plugins.adtest),tmgAds.plugins.refurl?e.refurl=tmgAds.page.url:e.refurl="inactive",void 0!==tmgAds.config.deliveryModel?(e.admodel=tmgAds.config.deliveryModel.activityStatus+"-"+tmgAds.config.deliveryModel.minHeight+"-"+tmgAds.config.deliveryModel.refreshRate+"-"+tmgAds.config.deliveryModel.refreshCycle,e.sticky=0,"default"!==tmgAds.config.deliveryModel.activityStatus&&"none"!==tmgAds.config.deliveryModel.activityStatus&&(e.sticky=1)):console.log("ADTECH: tmgAds.config.deliveryModel not set yet"),tmgAds.dfp.customvars=e,e}function tmgAdsLog(e,t){window.tmgAds.log(e,t)}function tmgAdsGetObjSize(e){for(var t=[],s=[e],d=0;s.length;){var i=s.pop();if("boolean"==typeof i)d+=4;else if("string"==typeof i)d+=2*i.length;else if("number"==typeof i)d+=8;else if("object"==typeof i&&-1===t.indexOf(i))for(var a in t.push(i),i)s.push(i[a])}return d/1024}function tmgAdsGetGeoAPI(){var e={available:0,supported:0,api:{},position:{}};return tmgAds.plugins.gpt.setLocation?(navigator.geolocation.getCurrentPosition((function(t){e.api=t.coords,e.position=t.coords,e.available=1,e.supported=1,tmgAdsLog("GeoAPI success -> position.coords="+t.coords)}),(function(t){e.available=0,e.supported=-1,tmgAdsLog("GeoAPI failed: "+t)})),tmgAdsLog("navigator.geolocation supported in this browser")):tmgAdsLog("navigator.geolocation not supported in this browser"),e}function tmgAdsGetMetaTag(e){try{var t=null;if(null!==document.getElementsByName(e)[0]&&void 0!==document.getElementsByName(e)[0]){if(document.getElementsByName(e)[0].content.length>0&&(t=document.getElementsByName(e)[0].content.toLowerCase(),tmgAdsLog("tmgAdsGetMetaTag("+e+'): "'+(t="tmgads.articleid"==e?decodeURIComponent(document.getElementsByName(e)[0].content):decodeURIComponent(document.getElementsByName(e)[0].content.toLowerCase()))+'"')),"tmgads.keywords"==e)if(null!==t){t=t.split(",");for(var s=0;s<t.length;s++)String.prototype.trim?t[s]=t[s].replace("'","").trim():null!==typeof t[s]?t[s]=t[s].replace(/^\s\s*/,"").replace(/\s\s*$/,"").replace("'",""):tmgAdsLog("tmgAdsGetMetaTag("+e+'): tmp[i] is null -> "'+t[s]+'"'),tmgAdsLog("tmgAdsGetMetaTag("+e+'): "'+t[s]+'"')}else tmgAdsLog("tmgAdsGetMetaTag("+e+"): content is not set")}else tmgAdsLog("tmgAdsGetMetaTag("+e+"): does not exist");return tmgAds.metatags[e]=t,t}catch(t){tmgAdsLog("ERROR: tmgAdsGetMetTag("+e+") failed -> error="+t.message)}}function tmgAdsGetPageData(){try{tmgAdsLog("tmgAdsGetPageData:");var e={zone:"unknown",url:location.protocol+"//"+location.host+location.pathname,url_full:location.href,referrer:document.referrer,docdom:document.domain,domain:location.hostname,protocol:location.protocol,search:location.search,topdom:top.location.hostname,gamp:"0",environment:"-"};if("refresh"===tmgAdsGetURLParam("source",window.location.href)?(e.refresh=1,tmgAdsLog("tmgAdsGetPageData: page is a refreshed page")):tmgAdsLog("tmgAdsGetPageData: page is not refreshed"),e.pagetype=tmgAdsGetMetaTag("tmgads.pagetype"),e.articleid=tmgAdsGetMetaTag("tmgads.articleid"),e.geo=tmgAdsGetMetaTag("tmgads.geo"),null===e.pagetype&&(e.pagetype="unset"),e.zone=tmgAdsGetMetaTag("tmgads.zone"),null===e.zone?(e.zone="unknown",e.channel=tmgAdsGetMetaTag("tmgads.channel"),null!==e.channel&&(e.zone=e.channel+".escenic",console.log("tmgAdsGetPageData: tmgads.zone metatag is not populated, setting to tmgads.channel: ",e.channel))):e.zone=e.zone.replace(/\//g,".").replace(/-/g,"").replace(/_/g,""),null!==e.zone.match(/(\d{4})\.(\d{2})\.(\d{2})$/)&&(e.zone=e.zone.substring(0,e.zone.length-11)),e.businessseg=tmgAdsGetMetaTag("tmgads.businessSegment"),"lifestyle/puzzles"==e.zone&&(e.zone="puzzles"),null===e.businessseg||e.businessseg==e.zone.split(".")[0]||(e.zone=e.businessseg+"."+e.zone),e.zonedata=e.zone.split("."),e.level=e.zonedata.length,e.section=e.zone.replace(/\./g,"-").replace(/_/g,""),e.site=e.zonedata[0],e.businessseg,e.site,e.otherdata="",e.keywords=tmgAdsGetMetaTag("tmgads.keywords"),e.mostshared=tmgAdsGetMetaTag("tmgads.mostshared"),e.mostviewed=tmgAdsGetMetaTag("tmgads.mostviewed"),e.parentid=tmgAdsGetMetaTag("tmgads.parentid"),e.product=tmgAdsGetMetaTag("tmgads.product"),e.sensitive=tmgAdsGetMetaTag("tmgads.sensitive"),e.videosrc=tmgAdsGetMetaTag("tmgads.videosrc"),e.sponsor=tmgAdsGetMetaTag("tmgads.sponsor"),e.sourcepoint="-1",-1==document.cookie.indexOf("euconsent")?e.sourcepoint="0":e.sourcepoint="1",("ece_frontpage"==e.section||"ecefrontpage"==e.section)&&(e.section="portal"),("food_and_drink"==e.section||"food-and-drink"==e.section)&&(e.section="foodanddrink"),("food_and_drink"==e.site||"food-and-drink"==e.site)&&(e.site="foodanddrink"),e.dataLayer=window.dataLayer||["unset"],e.pageData=window.pageData||["unset"],void 0!==window.pageData)for(e.pageDataDFP=tmgadsGetPageData(e.pageData),i=0;i<e.pageDataDFP.length;i++)0==e.pageDataDFP[i].indexOf("storytype")&&(e.storytype=e.pageDataDFP[i].split("_")[1]);return e.instanceId=tmgAdsUUID(),void 0!==e.dataLayer.pageType?e.rendererType=e.dataLayer.pageType:e.rendererType="unset",e}catch(e){console.log("ERROR: tmgAdsGetPageData() failed -> error="+e.message)}}function tmgAdsGetURLParam(e,t){window.tmgAds.log('tmgAdsGetURLParam: ("'+e+'","'+t+'")');return"adtest"==e?decodeURI((RegExp(e+"=(.+?)(&|$)").exec(t)||[,null])[1]):window.location.search.indexOf(e)>0}function tmgAdsGetTMGCookies(e){window.tmgAds.log("tmgAdsGetTMGCookies: type="+e);var t,s="";if(tmgAds.plugins.tmgcookies.active){window.tmgAds.log("tmgAdsGetTMGCookies: Adding any tmgcookies");for(var d=document.cookie.split("; "),i=0;i<d.length;i++)d[i].hasOwnProperty(i)&&"tmgads_"===(t=d[i].split("="))[0].substr(0,7)&&t[0].length>0&&(s+=";ck_"+t[0].substr(7,t[0].length-7)+"="+t[1])}return s}function tmgAdsGetBrowserData(){window.tmgAds.log("tmgAdsGetBrowserData:");var e,t={};for(var s in navigator)if(navigator.hasOwnProperty(s)){var d=navigator[s];"object"!=typeof d&&(t[s]=d)}return document.all?(tmgAdsLog("document.all exists"),t.biw=document.documentElement.offsetWidth,t.bih=document.documentElement.offsetHeight):(tmgAdsLog("document.all does not exists"),t.biw=window.innerWidth,t.bih=window.innerHeight),t.isIE=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var s=e.indexOf("rv:");return parseInt(e.substring(s+3,e.indexOf(".",s)),10)}var d=e.indexOf("Edge/");return d>0&&parseInt(e.substring(d+5,e.indexOf(".",d)),10)}(),t.chromeVer=!!(e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./))&&parseInt(e[2],10),t.chromeVer?t.isChrome=!0:t.isChrome=!1,t}function tmgAdsGetCookie(e){tmgAdsLog("tmgAdsGetCookie: Called -> "+e);var t,s,d,i,a=document.cookie.split(";");for(s=0;s<a.length;s++)d=a[s].substr(0,a[s].indexOf("=")),i=a[s].substr(a[s].indexOf("=")+1),(d=d.replace(/^\s+|\s+$/g,""))==e&&(t=decodeURIComponent(i));return t}function tmgAdsSetCookie(e,t,s,d){tmgAdsLog('tmgAdsSetCookie: Called ->"'+e+'","'+t+'","'+s+'","'+d+'")');var i,a,n,o,r=e+"="+encodeURIComponent(t);s?(a=(i=new Date).getTime(),a+=3600*s*1e3,i.setTime(a),n=";expires="+i.toGMTString()):n="",o=r+n+";path=/"+(void 0===d?"":";domain="+d),document.cookie=o}function tmgAdsTimer(){var e=!1;return e=void 0!==window.RUM&&void 0!==window.RUM.now?window.RUM.now():void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now(),parseFloat(e.toFixed(0))}function tmgAdsCsvToObj(e,t,s){var d;if(window.tmgAds.log('tmgAdsCsvToObj: data="'+e+'" delimiter="'+t+'" assignment='+s),s=s||"=",void 0!==e)for(var i in(d={dfplegacy:"",raw:e,vars:{}}).data=e.split(t),d.data)if(d.data[i].length>0&&"string"==typeof d.data[i]){var a=d.data[i].split(s);d.vars[a[0]]=a[1],d.dfplegacy+="&"+a[0]+"="+a[1],window.tmgAds.log("tmgAdsCsvToObj: extra custVars set in function call, creating them now -> "+a[0]+s+a[1])}return d}function tmgAdsBuildAd(e,t,s){window.tmgAds.log('tmgAdsBuildAd: ("'+e+'", "'+t+'", "'+s+'")'),++tmgAds.dfp.tile;var d={adunit:tmgAds.dfp.adunit,altsizes:s,outofpage:!1,arguments:arguments,slot:e.split("_"),size:[],slotid:e,prebid:{hb_data:[],hb_adid:[],hb_size:[],hb_pb:[],hb_rid:[],hb_ttr:[],hb_pid:[]},customvars:tmgAds.dfp.customvars||{},customvarstr:"",refreshable:!1,dynmpu:!1,block:!1,div:e,vidid:null,pos:tmgAds.dfp.tile,tile:tmgAds.dfp.tile,ord:Number(new Date),extra:tmgAdsCsvToObj(t,";")};for(var i in window.tmgAds.metrics.adStack["tmggpt_tmgAdsBuildAd_"+d.div]=window.tmgAdsTimer(),"none"!=tmgAds.config.deliveryModel.activityStatus?d.adcount=1:d.adcount=0,tmgAds.ads[d.pos]={},1==d.slot.length?d.adtype=d.slot[0]:d.adtype=d.slot[2],d.adloc=d.slot[1],d.slot[3]&&(d.adpos=d.slot[3],d.dynid=d.adpos),void 0!==window.martech&&void 0!==window.martech.utils?void 0!==window.martech.utils.activities?d.customvars.martech=window.martech.utils.activities:d.customvars.martech=["none"]:d.customvars.martech=["unset"],"nat"==d.adtype&&(d.natid=d.div.substring(11),d.nattype="unclassified","nat_index_sparkbrain"==d.natid.substring(0,20)&&(d.nattype=d.customvars.nattype="sparkbrain"),"nat_index_sidebar"==d.natid.substring(0,17)&&(d.nattype=d.customvars.nattype="sidebar"),"nat_index_logo"==d.natid.substring(0,14)&&(d.nattype=d.customvars.nattype="logo"),"nat_index_mob_portal_newsfeed"==d.natid.substring(0,29)&&(d.nattype=d.customvars.nattype="newsfeeed"),"nat_index_firstlist_mob"==d.natid.substring(0,23)&&(d.nattype=d.customvars.nattype="firstllist"),"nat_index_multilist_mob"==d.natid.substring(0,23)&&(d.nattype=d.customvars.nattype="multilist"),"nat_index_sponsored_list_item"==d.natid.substring(0,29)&&(d.nattype=d.customvars.nattype="sponsored"),"nat_story_sparkbrain"==d.natid.substring(0,20)&&(d.nattype=d.customvars.nattype="sparkbrain"),"nat_story_outbrain"==d.natid.substring(0,18)&&(d.nattype=d.customvars.nattype="outbrain"),"nat_story_sidebar"==d.natid.substring(0,17)&&(d.nattype=d.customvars.nattype="sidebar"),"nat_story_logo"==d.natid.substring(0,14)&&(d.nattype=d.customvars.nattype="logo"),d.customvars.nattype=d.nattype),(tmgAds.plugins.oopunits.indexOf(d.adtype)>-1||"oop"==d.adpos)&&(d.outofpage=!0),!1!==typeof tmgAds.plugins.adomik.active&&(d.customvars.ad_group=tmgAds.plugins.adomik.getAdGroup(),d.customvars.ad_h=(new Date).getUTCHours()),d.customvars)d.customvars.hasOwnProperty(i)&&(d.customvarstr+="&"+i+"="+d.customvars[i]);if(d.altsizes.length>0){for(tmgAdsLog("Altsizes have been chosen - over-riding the defaults and setting them to: "+d.altsizes),d.oldsizes=d.altsizes.split(","),tmgAdsLog("Altsizes set: "),d.newsizes=[],i=0;i<d.oldsizes.length;i++)""!==d.oldsizes[i]&&d.oldsizes[i].length>=3?(tmgAdsLog("Altsizes: using this value "+d.oldsizes[i]),d.newsizes.push(d.oldsizes[i])):tmgAdsLog('Altsizes: not using this value "'+d.oldsizes[i]+'"');for(i in d.sizes=d.newsizes,tmgAdsLog("Altsizes set: "),d.sizes)d.sizes.hasOwnProperty(i)&&d.size.push([Number(d.sizes[i].split("x")[0]),Number(d.sizes[i].split("x")[1])])}else d.size=tmgAds.plugins.sizemapping[tmgAds.layout.viewport][d.adtype],tmgAdsLog("default sizes have been chosen - sizes are:"+d.size);if("vid"==d.adtype||"ins"==d.adtype||"int"==d.adtype)return"vid"==d.adtype&&(d.tmpsize=tmgAds.plugins.sizemapping[tmgAds.layout.viewport].vid,d.vidslot=d.slotid+"_"+d.pos,tmgAds.plugins.advast4&&(tmgAds.plugins.gpt.vastOutputVersion="xml_vast4"),d.url="https://securepubads.g.doubleclick.net/gampad/ads?env=vp&sz="+d.tmpsize+"&cmsid="+tmgAds.plugins.gpt.ooyalaCMSID+"&vid="+d.vidid+"&gdfp_req=1&impl=s&unviewed_position_start=1&output="+tmgAds.plugins.gpt.vastOutputVersion+"&iu="+d.adunit+"&hl=en&cust_params="+encodeURIComponent(d.customvarstr+"&vidslot="+d.vidslot+"&at="+d.adtype+"&pos="+d.pos+"&adcount="+d.adcount+d.extra.dfplegacy)+"&description_url="+encodeURIComponent(tmgAds.page.url)+"&url="+encodeURIComponent(tmgAds.page.url)+"&ciu_szs=&scp=&scor="+d.pos+"&correlator="+tmgAds.dfp.ord),"ins"==d.adtype&&(d.tmpsize=d.size[0][0]+"x"+d.size[0][1],d.url="https://securepubads.g.doubleclick.net/gampad/adx?sz="+d.tmpsize+"&iu="+tmgAds.dfp.adunit+"&url="+encodeURIComponent(tmgAds.page.url)+"&t="+encodeURIComponent(d.customvarstr+"&at="+d.thisad+"&pos="+d.pos+"&acount="+d.adcount)+"&m=application/javascript&tile="+d.pos+"&c="+tmgAds.dfp.ord),"int"==d.adtype&&(d.tmpsize=d.size[0][0]+"x"+d.size[0][1],d.url="https://securepubads.g.doubleclick.net/gampad/adx?sz="+d.tmpsize+"&iu="+tmgAds.dfp.adunit+"&url="+encodeURIComponent(tmgAds.page.url)+"&t="+encodeURIComponent(d.customvarstr+"&at="+d.thisad+"&pos="+d.pos+"&acount="+d.adcount)+"&m=application/javascript&tile="+d.pos+"&c="+tmgAds.dfp.ord),d.fetchUrl=function(){return tmgAds.plugins.adkill?"":d.url},d.display=function(){d.fetchUrl()},d;if("m"!=tmgAds.layout.viewport&&"s"!=tmgAds.layout.viewport&&"xs"!=tmgAds.layout.viewport||"story"!=tmgAds.page.pagetype&&"video"!=tmgAds.page.pagetype&&"live"!=tmgAds.page.pagetype||"mpu"!=d.adtype?d.block=!1:d.block=!0,tmgAds.plugins.adSlotRefresh.exemptAdSlots.indexOf(d.adtype)>-1||tmgAds.config.deliveryModel.activityStatus==d.adtype||"none"==tmgAds.config.deliveryModel.activityStatus||tmgAds.config.deliveryModel.exempt.indexOf(d.adtype)>-1){if("dyn"==d.adtype&&tmgAds.plugins.dynad.active&&-1==tmgAds.plugins.dynad.viewports.indexOf(tmgAds.layout.viewport))return tmgAdsLog("ALERT: Dynamic MPU slot not rendered as has not met criteria: adpos="+d.pos+" - adtype="+d.adtype+" - viewport="+tmgAds.layout.viewport+" - tmgAds.plugins.dynad.viewports.indexOf(tmgAds.layout.viewport)="+tmgAds.plugins.dynad.viewports.indexOf(tmgAds.layout.viewport)),d.refresh=function(){return d},d.display=function(){return d},d.fetchUrl=function(){return d},d;for("ban"==tmgAds.config.deliveryModel.activityStatus&&"ban"==d.adtype&&("m"==tmgAds.layout.viewport&&(d.size=[[728,90],[1,1],"fluid"]),"s"==tmgAds.layout.viewport&&(d.size=[[300,50],[320,50],[1,1],"fluid"]),"xs"==tmgAds.layout.viewport&&(d.size=[[300,50],[320,50],[1,1],"fluid"])),"mpu"==tmgAds.config.deliveryModel.activityStatus&&"mpu"==d.adtype&&tmgAds.layout.viewportHeight<tmgAds.config.deliveryModel.minHeight&&(tmgAdsLog("tmgAds.layout.viewportHeight is less thean the minHeight for certain sticky ads/mpus on this page, restricting to only 300x250"),d.size=[[300,250],[300,215],[300,189],[1,1],"fluid"]),d.rawsizes=[],i=0;i<d.size.length;i++)d.rawsizes.push(d.size[i][0]+"x"+d.size[i][1]);return googletag.cmd.push((function(){var e;for(e in!0===d.outofpage?(tmgAdsLog("OutOfPage unit chosen for: "+d.slotid),d.adslot=googletag.defineOutOfPageSlot(d.adunit,d.div).addService(googletag.pubads())):(tmgAdsLog("Standard Display unit chosen for: "+d.slotid+" sizes: "+d.size),d.adslot=googletag.defineSlot(d.adunit,d.size,d.div).addService(googletag.pubads())),"dyn"==d.adtype&&d.adslot.setTargeting("dynid",d.dynid),"nat"==d.adtype&&d.adslot.setTargeting("natid",d.natid),d.adslot.setTargeting("div",d.div),d.adslot.setTargeting("at",d.adtype),d.adslot.setTargeting("pos",d.pos),d.adslot.setTargeting("adcount",String(d.adcount)),d.adslot.setTargeting("tsor",tmgAdsTimer()),tmgAds.plugins.gpt.useppid&&void 0!==tmgAds.tmg.pid&&googletag.pubads().setPublisherProvidedId(tmgAds.tmg.pid),d=tmgAdsUpdateHeaderBidderData(d),tmgAds.dfp.customvars)null!==typeof tmgAds.dfp.customvars[e]&&d.adslot.setTargeting(e,tmgAds.dfp.customvars[e]);for(e in d.extras)null!==typeof d.extras[e]&&("cmp"==e&&console.log("ADTECH:: cmp -> ",tmgAds.dfp.customvars[e]),d.adslot.setTargeting(e,d.extras[e]));for(e in d.extra.vars)tmgAdsLog('extra vars have been set, itterating through them now. Adding extra vars: ["'+e+'","'+d.extra.vars[e]+'"]'),d.adslot.setTargeting(e,d.extra.vars[e]);if(1==tmgAds.plugins.gpt.collapseEmptyDivs&&(tmgAdsLog("setCollapseEmptyDiv is active for: "+d.slotid),d.adslot.setCollapseEmptyDiv(!0)),tmgAds.plugins.permutive.active||tmgAds.plugins.adpermutiveon)try{var t=window.localStorage.getItem("_pdfps");d.adslot.setTargeting("permutive",t?JSON.parse(t):[])}catch(e){console.log("PERMUTIVE: error -> "+e)}googletag.enableServices()})),tmgAds.ads[d.pos]=d,d.display=function(){return googletag.cmd.push((function(){"vid"!==d.adtype?googletag.display(d.slotid):tmgAdsLog('.display() method called on "vid" adtype... ignoring')})),d},d.refresh=function(){googletag.cmd.push((function(){console.log("ADTECH: tmgAdsBuildAd - refreshing tmp.slotid",d.adslotid),googletag.pubads().refresh([d.adslot])}))},tmgAds.adslots[d.slotid]=d,!0===tmgAds.plugins.adkill?(tmgAdsLog('ALERT: "adkill" has been selected, so bailing here and not sending you an ad...'),d.refresh=function(){return d},d.display=function(){return d},d.fetchUrl=function(){return d},d):d}return tmgAds.config.deliveryModel.activityStatus!=d.adtype&&tmgAdsLog("ALERT: not matched - tmgAds.config.deliveryModel.activityStatus="+tmgAds.config.deliveryModel.activityStatus+"  --\x3e  tmp.adtype="+d.adtype+" so we did not call this ad."),tmgAds.plugins.dynad.active&&-1==tmgAds.plugins.dynad.viewports.indexOf(tmgAds.layout.viewport)&&tmgAdsLog("ALERT: Dynmic MPU not called - not matched viewport"),d.refresh=function(){return d},d.display=function(){return d},d.fetchUrl=function(){return d},d}function tmgAdsBuildAdTag(e,t,s,d,i,a,n){tmgAdsLog("-=-=-=--=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-="),tmgAdsLog('WARNING: DEPRECATED tmgAdsBuildAdTag("'+e+'","'+t+'","'+s+'","'+d+'","'+i+'")');var o={tile:(++tmgAds.dfp.tile,tmgAds.dfp.tile),adslot:e.split(","),sizes:t.split(","),thisad:e.split(",")[0].substr(0,3),sz:[],type:s,extra:{data:d,vars:{},dfp:""},style:i,refresh:a,refreshtime:n};if("mob"==o.thisad&&(o.thisad="ban"),o.id_div="tmgads_legacy_"+o.thisad+"_"+o.tile,o.extra.data.length>0)for(var r in o.extra.tmp=o.extra.data.split(";"),o.extra.tmp)if(o.extra.tmp[r].length>0){var m=o.extra.tmp[r].split("=");o.extra.vars[m[0]]=m[1],o.extra.dfp+="&"+m[0]+"="+m[1],tmgAdsLog("extra custVars set in function call, creating them now -> "+m[0]+"="+m[1])}return"ins"!=o.thisad&&"vid"!=o.thisad&&"int"!=o.thisad?o.output='<div id="'+o.id_div+'"><script type="text/javascript">tmgAds.cmd.push(function(){var '+o.id_div+' = tmgAdsBuildAd("'+o.id_div+'","'+o.extra.data+'","'+t+'","0").display();});<\/script></div>\n':o.output=googletag.cmd.push(tmgAdsBuildAd(o.id_div,o.extra.data,t,0).fetchUrl()),--tmgAds.dfp.tile,o.output}function tmgAdsUpdateHeaderBidderData(e){if((tmgAds.plugins.prebid.active||tmgAds.plugins.adprebidon)&&!tmgAds.plugins.adprebidoff&&tmgAds.prodServers.indexOf(window.location.host)>=0&&-1==tmgAds.plugins.prebid.exempt.indexOf(e.adtype)){var t=tmgAds.plugins.prebid.bidResponse;for(a=0;a<=tmgAds.plugins.prebid.keynames.length-1;a++){e.prebid[tmgAds.plugins.prebid.keynames[a]];e.prebid[tmgAds.plugins.prebid.keynames[a]]=[]}if(tmgAdsObjSz(t)>=1){for(var s in e.prebid.hasBidders=[],t)if(e.div==s)for(var d in t[s].bids)if("1"==t[s].bids[d].getStatusCode()){if(window.location.search.indexOf("pbtest")>=0&&console.log("PREBID: SUCCESS - Bids Available ["+s+"]["+d+"] -> ",t[s].bids[d]),void 0!==t[s].bids[0].adserverTargeting.hb_size);else for(o in t[s].bids[0].adserverTargeting);if(e.rawsizes.indexOf(t[s].bids[d].getSize())>=0){for(ozonekey in e.prebid.hasAds=!0,e.prebid.hasBidders.push(t[s].bids[d].bidder),e.prebid.bidID=t[s].bids[d].bidID,e.prebid.bidData=t[s].bids[d].bidData,e.prebid.hb_data.push(e.prebid.bidData),e.prebid.hb_bids.push(e.prebid.bidID),void 0!==t[s].bids[d].dealId&&(e.prebid.hb_dealId=e.prebid.hb_dealId||[],e.prebid.hb_dealId.push(t[s].bids[d].dealId)),e.prebid.ozoneTargeting=e.prebid.ozoneTargeting||{},t[s].bids[d].adserverTargeting)-1==ozonekey.indexOf("hb_")&&(e.prebid[ozonekey]=t[s].bids[d].adserverTargeting[ozonekey],e.adslot.setTargeting(ozonekey,t[s].bids[d].adserverTargeting[ozonekey]),"oz_winner"==ozonekey&&(0==t[s].bids[d].adserverTargeting[ozonekey].indexOf("oz")?e.adslot.setTargeting("oz_winner_audience","yes"):e.adslot.setTargeting("oz_winner_audience","no")));tmgAds.plugins.prebid.commonId.active&&t[s].bids[d].id}}else e.prebid.hb_pid.push(t[s].bids[d].placementId+"_nobids")}else tmgAds.plugins.adhboff;for(s=0;s<=tmgAds.plugins.prebid.keynames.length-1;s++)e.adslot.setTargeting(tmgAds.plugins.prebid.keynames[s],e.prebid[tmgAds.plugins.prebid.keynames[s]]);e.adslot.setTargeting("hb_auction",tmgAds.plugins.prebid.auctionID),e.prebid.hasAds?(e.prebid.hasBiddersUnique=tmgAdsGetUniqueArray(e.prebid.hasBidders),e.adslot.setTargeting("hb_hasbids","yes"),e.adslot.setTargeting("hb_hasbidders",e.prebid.hasBiddersUnique),e.adslot.setTargeting("hb_bidstatus",tmgAds.plugins.prebid.bidstatus)):(e.adslot.setTargeting("hb_hasbids","no"),e.adslot.setTargeting("hb_hasbidders","none"),e.adslot.setTargeting("hb_bidstatus",tmgAds.plugins.prebid.bidstatus))}return e}function tmgAdsGetUniqueArray(e){for(var t=[],s=0,d=e.length;s<d;s++)-1===t.indexOf(e[s])&&""!==e[s]&&t.push(e[s]);return t}function tmgAdsRefreshAdSlot(e){tmgAdsLog("tmgAdsRefreshAdSlot: "+e.slot.div),e.slot=tmgAdsUpdateHeaderBidderData(e.slot),tmgAds.ads[e.adID].hasOwnProperty("adslot")?(tmgAdsLog("tmgAdsRefreshAdSlot: "+e.slot.div+" - refreshing ad"),googletag.cmd.push((function(){for(var t in e.slot.adslot.setTargeting("adcount",[tmgAds.refreshTimers[e.slot.adtype].adcount]),tmgAdsLog("tmgAdsRefreshAdSlot: "+e.slot.div+" - updating setTargeting values -> adcount="+tmgAds.refreshTimers[e.slot.adtype].adcount),tmgAds.dfp.customvars)null!==typeof tmgAds.dfp.customvars[t]&&e.slot.adslot.setTargeting(t,tmgAds.dfp.customvars[t]);window,tmgAds.log("tmgAdsRefreshAdSlot: "+e.slot.div+" - refresh adslot"),googletag.pubads().refresh([e.slot.adslot])}))):tmgAdsLog("tmgAdsRefreshAdSlot: "+e.slot.div+" - adslot does not exist",e)}function tmgAdsCountdown(e){tmgAds.refreshTimers[e.adtype].currentCount>0?!0===tmgAds.config.viewportstatus&&(tmgAdsLog("tmgAdsCountdown - Countdown not finished, reducing countdown by 1s :: adtype:"+e.adtype+"  viewportstatus:"+tmgAds.config.viewportstatus+"  countdownID:"+tmgAds.refreshTimers[e.adtype].countdownID+"  timeOutstanding:"+tmgAds.refreshTimers[e.adtype].currentCount+"  adcount:"+tmgAds.refreshTimers[e.adtype].adcount),2==tmgAds.refreshTimers[e.adtype].currentCount&&(0===tmgAds.config.deliveryModel.refreshCycle||(tmgAds.config.deliveryModel.refreshCycle,tmgAds.refreshTimers[e.adtype].adcount)),--tmgAds.refreshTimers[e.adtype].currentCount):tmgAdsLog("tmgAdsCountdown: countdown finished, - ad is ready to refresh - waiting for the user to interact with the page before we refresh ads.")}function tmgAdsScheduleRefreshableAds(e){function t(t){0===tmgAds.refreshTimers[e.adtype].currentCount&&!1===tmgAds.refreshTimers[e.adtype].refreshStatus?(tmgAds.refreshTimers[e.adtype].refreshStatus=!0,tmgAdsLog("tmgAdsScheduleRefreshableAds: Refreshing: "+e.div),(0===tmgAds.config.deliveryModel.refreshCycle||tmgAds.config.deliveryModel.refreshCycle>tmgAds.refreshTimers[e.adtype].adcount)&&(document.getElementById(e.div).style.opacity="0"),setTimeout((function(){var s="tmgAdsScheduleRefreshableAds: setTimeout() -> ";window.clearInterval(tmgAds.refreshTimers[e.adtype].countdownID),0===tmgAds.config.deliveryModel.refreshCycle||tmgAds.config.deliveryModel.refreshCycle>tmgAds.refreshTimers[e.adtype].adcount?(++tmgAds.refreshTimers[e.adtype].adcount,tmgAds.refreshTimers[e.adtype].countdownID=setInterval((function(){tmgAdsCountdown(e)}),1e3),tmgAds.refreshTimers[e.adtype].currentCount=tmgAds.config.deliveryModel.refreshRate/1e3,tmgAds.refreshTimers[e.adtype].refreshStatus=!1,"click"!=t.type?(tmgAdsLog(s+"Event is NOT a click event, so we can happily refresh this ad now."),tmgAdsRunPrebidAuctionAndRefreshAd(tmgAds.refreshTimers[e.adtype])):tmgAdsLog(s+"Event is a CLICK event, we do not refresh based on these as they can overinflate delivery attempts.")):(tmgAdsLog(s+"tmgAds.config.deliveryModel.refreshCycle has been met."),tmgAdsLog(s+"tmgAds.config.deliveryModel.refreshCycle = "+tmgAds.config.deliveryModel.refreshCycle),tmgAdsLog(s+"tmgAds.refreshTimers["+e.adtype+"].adcount = "+tmgAds.refreshTimers[e.adtype].adcount),"ban"!=e.adtype||"index"!=tmgAds.page.pagetype&&"topic"!=tmgAds.page.pagetype?(tmgAdsLog(s+"COLLAPSING STICKINESS - "+e.adtype),tmgAdsEvent("tmggpt-collapseStickyad")):(tmgAdsLog(s+"REMOVING STICKINESS - "+e.adtype),tmgAdsEvent("tmggpt-revertStickyBanner")))}),1e3)):tmgAds.refreshTimers[e.adtype].currentCount}window.tmgAds.log('tmgAdsScheduleRefreshableAds: ("'+e.adtype+'","'+e.adID+'")'),tmgAds.refreshTimers[e.adtype]={adID:e.adID,slot:tmgAds.ads[e.adID],duration:tmgAds.config.deliveryModel.refreshRate/1e3,currentCount:tmgAds.config.deliveryModel.refreshRate/1e3,refreshStatus:!1,adcount:1,countdownID:setInterval((function(){tmgAdsCountdown(e)}),1e3)},document.addEventListener("focus",(function(e){t(e)})),document.addEventListener("orientationchange",(function(e){t(e)})),document.addEventListener("keydown",(function(e){t(e)})),document.addEventListener("scroll",(function(e){t(e)})),document.addEventListener("resize",(function(e){t(e)})),document.addEventListener("mousemove",(function(e){t(e)})),document.addEventListener("mousewheel",(function(e){t(e)}),{passive:!0}),document.addEventListener("DOMMouseScroll",(function(e){t(e)}),{passive:!0})}function tmgAdsSetAdSlotToRefresh(e,t){if(window.tmgAds.log("tmgAdsSetAdSlotToRefresh: "+e+" - "+t,"",!1),tmgAds.counters=tmgAds.counters||{},tmgAds.counters.hasOwnProperty(e)||(tmgAds.counters[e]=0),Object.keys(tmgAds.ads).length>0&&tmgAds.plugins.adSlotRefresh.active&&tmgAds.plugins.adSlotRefresh.retryCount<=tmgAds.plugins.adSlotRefresh.retryLimit){var s="none";for(var d in tmgAds.ads)if(tmgAds.ads.hasOwnProperty(d)){if(tmgAds.ads[d].adtype==e){window.tmgAds.log("tmgAdsSetAdSlotToRefresh: "+e+" - SUCCESS: adslot found - "+tmgAds.ads[d].adtype,"",!1),tmgAds.ads[d].adID=s=d;break}}else window.tmgAds.log("tmgAdsSetAdSlotToRefresh: "+e+" - FAIL: tmgads.hasOwnProperty("+d+") - no hasOwnProperty exixts","",!1);"none"==s?tmgAds.counters[e]<tmgAds.plugins.counters?(++tmgAds.counters[e],window.setTimeout((function(){tmgAdsSetAdSlotToRefresh(e,"ALERT: setTimeout - adslot has not been created yet - retrying - retryCount="+tmgAds.plugins.adSlotRefresh.retryCount)}),tmgAds.plugins.adSlotRefresh.retryPeriod)):window.tmgAds.log("tmgAdsSetAdSlotToRefresh: "+e+" - ALERT: refresh count limit hit, stop trying to fill this slot and stop running this script.","",!1):tmgAds.ads[s].adtype==e&&("object"==typeof tmgAds.ads[s].adslot?(window.tmgAds.log("tmgAdsSetAdSlotToRefresh: "+e+" - SUCCESS: adslot found - calling tmgAdsScheduleRefreshableAds("+e+")","",!1),tmgAdsScheduleRefreshableAds(tmgAds.ads[s])):(window.tmgAds.log("tmgAdsSetAdSlotToRefresh: "+e+" - ALERT: adslot not found - delaying implementing refreshables until the adslots are available - recalling tmgAdsSetAdSlotToRefresh("+e+") in "+tmgAds.plugins.adSlotRefresh.retryPeriod+"ms - retryCount:"+tmgAds.plugins.adSlotRefresh.retryCount+" of "+tmgAds.plugins.adSlotRefresh.retryLimit,"",!1),tmgAds.plugins.adSlotRefresh.retryCount<=tmgAds.plugins.adSlotRefresh.retryLimit?(++tmgAds.plugins.adSlotRefresh.retryCount,window.setTimeout((function(){tmgAdsSetAdSlotToRefresh(e,"ALERT: setTimeout - tmgAds.ads[adID].adslot not object - retryCount="+tmgAds.plugins.adSlotRefresh.retryCount)}),tmgAds.plugins.adSlotRefresh.retryPeriod)):window.tmgAds.log("tmgAdsSetAdSlotToRefresh: "+e+" - ALERT: request limit hit")))}else++tmgAds.plugins.adSlotRefresh.retryCount,window.tmgAds.log("tmgAdsSetAdSlotToRefresh: "+e+" - ALERT: ads not created yet - recalling tmgAdsSetAdSlotToRefresh("+e+") in "+tmgAds.plugins.adSlotRefresh.retryPeriod+"ms - retryCount="+tmgAds.plugins.adSlotRefresh.retryCount,"",!1),tmgAds.plugins.adSlotRefresh.retryCount<=tmgAds.plugins.adSlotRefresh.retryLimit&&window.setTimeout((function(){tmgAdsSetAdSlotToRefresh(e,"ALERT: setTimeout - retrying - refreshcount="+tmgAds.plugins.adSlotRefresh.retryCount)}),tmgAds.plugins.adSlotRefresh.retryPeriod,"",!1)}function tmgAdsOnPageLoad(){for(tmgAdsEvent("tmggpt:pageload"),tmgAdsLog("tmgAdsOnPageLoad:          P A G E   L  O A D E D "),window.addEventListener("focus",(function(){tmgAds.config.viewportstatus=!0,tmgAdsLog("AutoRefresh Event: window.onfocus - tmgAds.config.viewportstatus="+tmgAds.config.viewportstatus)})),window.addEventListener("blur",(function(){tmgAds.config.viewportstatus=!1,tmgAdsLog("AutoRefresh Event: window.onblur - tmgAds.config.viewportstatus="+tmgAds.config.viewportstatus)})),tmgAdsLog("tmgAdsOnPageLoad: Executing tmgAds.cmd queue:"),tmgAdsEvent("tmggpt:commandqueue");tmgAds.cmd.length>0;)tmgAdsLog("tmgAdsOnPageLoad: Executing tmgAds.cmd queue: "+tmgAds.cmd.slice(0,1)),tmgAds.cmd.shift()();return!0}function tmgAdsEvent(e,t){var s=new CustomEvent("tmgAds:"+e);document.dispatchEvent(s)}function tmgAdsInitDeliveryModel(){try{if(tmgAdsLog("Called tmgAdsInitDeliveryModel"),tmgAds.config.deliveryModel=tmgAds.plugins.models.default,tmgAds.config.deliveryModel.matched=!1,tmgAds.plugins.adstickyon&&(tmgAds.sticky=!0),tmgAds.plugins.adstickyoff&&(tmgAds.sticky=!1),tmgAds.plugins.mytelegraph.isActive&&!tmgAds.plugins.admytoff&&-1==tmgAds.plugins.mytelegraph.exempt.indexOf(tmgAds.page.businessseg)&&("xs"==tmgAds.layout.viewport||"s"==tmgAds.layout.viewport?(tmgAds.tmg.isRegistered||!document.getElementById("advert_tmg_ban")||"story"!=tmgAds.page.pagetype&&"live"!=tmgAds.page.pagetype&&"video"!=tmgAds.page.pagetype?document.getElementById("advert_tmg_ban")&&(document.getElementById("advert_tmg_ban").outerHTML="\x3c!--// advert_tmg_ban has been removed due to the MyTelegraph rules on Mobile that requires no banner slots to show  - user is registered//--\x3e"):document.getElementById("advert_tmg_ban").outerHTML+="\x3c!--// advert_tmg_ban has been retained //--\x3e",tmgAds.tmg.isRegistered?"story"!=tmgAds.page.pagetype&&"live"!=tmgAds.page.pagetype&&"video"!=tmgAds.page.pagetype&&"index"!=tmgAds.page.pagetype&&"topic"!=tmgAds.page.pagetype||(tmgAds.sticky=!1,tmgAds.plugins.mytelegraph.isApplied=!0,tmgAds.plugins.mytelegraph.isPlatform="mobile"):"index"!=tmgAds.page.pagetype&&"topic"!=tmgAds.page.pagetype||(tmgAds.sticky=!1)):(tmgAds.plugins.mytelegraph.isApplied=!0,tmgAds.plugins.mytelegraph.isPlatform="desktop")),tmgAds.sticky){for(var e in tmgAdsLog("tmgAdsInitDeliveryModel: tmgAds.sticky is TRUE"),tmgAds.plugins.models)if(tmgAds.plugins.models.hasOwnProperty(e)&&tmgAds.page.pagetype==e)for(var t in tmgAdsLog("tmgAdsInitDeliveryModel: matched pagetype -> "+e),tmgAds.plugins.models[e])tmgAds.plugins.models[e][t].hasOwnProperty("viewport")&&tmgAds.plugins.models[e][t].viewport==tmgAds.layout.viewport&&(tmgAds.config.deliveryModel=tmgAds.plugins.models[e][t],tmgAds.config.deliveryModel.matched=!0,tmgAdsLog("tmgAdsInitDeliveryModel: matched viewport -> "+tmgAds.plugins.models[e][t].viewport),"none"!=tmgAds.config.deliveryModel.model?tmgAds.plugins.adSlotRefresh.pagetypes.indexOf(tmgAds.page.pagetype)>-1?"ban"==tmgAds.config.deliveryModel.model&&tmgAds.browser.isIE&&!tmgAds.plugins.adiesticky||"ban"==tmgAds.config.deliveryModel.model&&tmgAds.browser.isChrome&&tmgAds.browser.chromeVer<=55?tmgAds.config.deliveryModel.activityStatus="none":(tmgAdsLog("tmgAdsInitDeliveryModel: page is sutiable for sticky ad model, setting vars now."),tmgAds.config.deliveryModel.ruleName=tmgAds.page.pagetype+"-"+tmgAds.config.deliveryModel.model+"-"+tmgAds.config.deliveryModel.minHeight+"-"+tmgAds.config.deliveryModel.refreshRate+"-"+tmgAds.config.deliveryModel.refreshCycle,tmgAds.config.deliveryModel.sticky=!0,tmgAds.config.deliveryModel.activityStatus=tmgAds.config.deliveryModel.model,tmgAdsSetAdSlotToRefresh(tmgAds.config.deliveryModel.activityStatus,"initial call")):(tmgAdsLog('ALERT: tmgAdsInitDeliveryModel: page is exempted from sticky ads in the tmgAds.config.models. tmgAds.plugins.adSlotRefresh.pagetypes.indexOf("'+tmgAds.page.pagetype+'");'),tmgAds.config.deliveryModel.activityStatus="none"):(tmgAdsLog("ALERT: tmgAdsInitDeliveryModel: tmgAds.page.pagetype is not suitable for sticky ads -> setting tmgAds.config.deliveryModel.activityStatus = none"),tmgAds.config.deliveryModel.activityStatus="none"))}else tmgAds.config.deliveryModel={activityStatus:"none",exempt:[]}}catch(e){tmgAdsLog("ERROR: tmgAdsInitDeliveryModel failed -> error="+e.message,tmgAds)}}function tmgAdsThrottle(e,t){var s,d;return t=t||tmgAds.plugins.lazyLoad.delayCall,function(){var i=this,a=+new Date,n=arguments;s&&a<s+t?(clearTimeout(d),d=setTimeout((function(){s=a,e.apply(i,n)}),t)):(s=a,e.apply(i,n))}}function tmgAdsElementIsInView(e,t){var s=[{left:0,right:0,top:0,bottom:0},t].reduce((function(e,t){return Object.keys(t).forEach((function(s){e[s]=t[s]})),e}),{}),d=e.getBoundingClientRect(),i=window.innerHeight,a=window.innerWidth,n=d.top+s.top,o=d.bottom-s.bottom,r=d.left-s.left,m=d.right+s.right;return n<i&&o>0&&(r<a&&m>0)}function tmgAdsRunPrebidAuctionAndCallAd(e,t){if(tmgAds.plugins.prebid.auctions[e]=[],tmgAds.plugins.prebid.auctions.currentAuctionDivId=e,void 0!==tmgAds.plugins.prebid.bids)for(var s=0;s<=tmgAds.plugins.prebid.bids.length-1;s++)0==tmgAds.plugins.prebid.bids[s].code.indexOf(e)&&tmgAds.plugins.prebid.auctions[e].push(tmgAds.plugins.prebid.bids[s]);1==tmgAds.plugins.prebid.active&&tmgAds.plugins.prebid.auctions[e].length>0?(window.pbjs.adUnits=[],window.pbjs.addAdUnits(tmgAds.plugins.prebid.auctions[e]),tmgAds.plugins.prebid.bidStatus="init",window.pbjs.requestBids(tmgAds.plugins.prebid.bidsBackHandler),tmg.pubsub.subscribe({topic:"tmg.ads.prebid.auctions.bidsReceived."+e,func:function(){tmgAdsLog("tmgAdsRunPrebidAuctionAndCallAd - PUBSUB - tmg.ads.prebid.auctions.bidsReceived."+e,tmgAds.plugins.prebid.bidResponse),googletag.cmd.push(tmgAdsBuildAd(e,"","").display())},runIfAlreadyPublished:!1})):googletag.cmd.push(tmgAdsBuildAd(e,"","").display())}function tmgAdsRunPrebidAuctionAndRefreshAd(e){if(tmgAdsLog("tmgAdsRunPrebidAuctionAndRefreshAd - called",e),tmgAds.plugins.prebid.auctions[e.slot.div]=[],tmgAds.plugins.prebid.auctions.currentAuctionDivId=e.slot.div,void 0!==tmgAds.plugins.prebid.bids)for(var t=0;t<=tmgAds.plugins.prebid.bids.length-1;t++)0==tmgAds.plugins.prebid.bids[t].code.indexOf(e.slot.div)&&tmgAds.plugins.prebid.auctions[e.slot.div].push(tmgAds.plugins.prebid.bids[t]);for(var s=0;s<=tmg.pubsub.topics.length-1;s++)tmg.pubsub.topics[s].topic=="tmg.ads.prebid.auctions.bidsReceived."+e.slot.div&&(tmgAdsLog("tmgAdsRunPrebidAuctionAndRefreshAd - removing existing pubsub event tmg.ads.prebid.auctions.bidsReceived."+e.slot.div),tmg.pubsub.topics.splice(s));tmgAds.plugins.prebid.auctions[e.slot.div].length>0?(window.pbjs.adUnits=[],window.pbjs.addAdUnits(tmgAds.plugins.prebid.auctions[e.slot.div]),tmgAds.plugins.prebid.bidStatus="init",window.pbjs.requestBids(tmgAds.plugins.prebid.bidsBackHandler),tmg.pubsub.subscribe({topic:"tmg.ads.prebid.auctions.bidsReceived."+e.slot.div,func:function(){tmgAdsLog("tmgAdsRunPrebidAuctionAndRefreshAd - PUBSUB - tmg.ads.prebid.auctions.bidsReceived."+e.slot.div,tmgAds.plugins.prebid.bidResponse),tmgAdsRefreshAdSlot(e)},runIfAlreadyPublished:!1})):(tmgAdsLog("ADTECH: tmgAdsRunPrebidAuctionAndRefreshAd - NO AUCTION DATA - tmgAds.plugins.prebid.bids",tmgAds.plugins.prebid.bids),tmgAdsRefreshAdSlot(e))}function tmgAdsElementInView(e,t,s){var d=e.id.split("_"),i="unknown";i="dyn"==d[2]?d[2]+d[3]:d[2];var a=!1;tmgAdsElementIsInView(e,s)&&!a&&(a=!0,tmgAdsRunPrebidAuctionAndCallAd(e.id,i)),t.addEventListener("scroll",tmgAdsThrottle((function(){tmgAdsElementIsInView(e,s)&&!a&&(a=!0,tmgAdsRunPrebidAuctionAndCallAd(e.id,i))}),tmgAds.plugins.lazyLoad.delayCall))}function createAdvert(e,t,s,d){var i;return(i=document.createElement("div")).classList.add("js-advert","advert"),i.id=void 0!==t?"advert_tmg_"+e+"_"+t:"advert_tmg_"+e,i.id=void 0!==s&&s?i.id+"_"+s:i.id,i.setAttribute("data-adtype",e),i}function tmgAdsGetTitleForInjected(e){var t;return traverse()?t=e:tmgAdsGetTitleForInjected(e.parentNode),t.parentNode.querySelector(".component-heading").childNodes[0].textContent.trim().replace(/ /g,"_").toLowerCase()}function traverse(e){return e.parentNode.classList.contains("list-of-entities")}function tmgAdsNativeInject(e,t,s,d,i,a){void 0!==i?i.multiList&&void 0!==i.multiList?document.querySelectorAll(e).forEach((function(e,t){tmgAdsInjectList(e,i,d,t)})):tmgAdsInjectList(document.querySelector(e),i,d):(void 0===s&&(s=0),tmgAdsInjectAdvert(document.querySelectorAll(e)[s],t,d,a))}function tmgAdsInjectList(e,t,s,d){var i,a,n,o=e.children.length,r=[];tmgSetAdvertPositions(t.repeat,r,t,o),r.forEach((function(t,r){n=createAdvert(s,r,d),(i=document.createElement("li")).classList.add("list-of-entities__item"),i.appendChild(n),a=t<=o?t:o,tmgAdsCreateItem(e.children[a-1],i,a>=o?"afterend":"beforebegin",n.id,"list")}),d)}function tmgSetAdvertPositions(e,t,s,d){if(e)for(var i=Math.floor(d/s.position)>0?Math.floor(d/s.position):1,a=1;a<=i;a++)a>1?t.push(s.position*a-(a-1)):t.push(s.position*a);else t.push(s.position)}function tmgAdsInjectAdvert(e,t,s,d){var i=createAdvert(s,void 0,void 0,d),a="before"===t?"beforebegin":"afterend";"before"===t&&(a="beforebegin"),"after"===t&&(a="afterend"),"replace"===t&&(a="replace"),tmgAdsCreateItem(e,i,a,i.id,"std")}function tmgAdsCreateItem(e,t,s,d,i){if("beforebegin"==s||"afterend"==s)try{e.insertAdjacentHTML(s,t.outerHTML)}catch(e){console.info("ADTECH: tmgAdsCreateItem() -> "+e.message)}else"object"==typeof e?(e.innerHTML="",e.appendChild(t)):console.warn("WARNING: native ad placement selector not found ["+d+"]")}function tmgAdsCreateNativeSlots(){var e={vp:tmgAds.layout.viewport,pt:tmgAds.page.pagetype,data:tmgAds.plugins.nativeads.config};("live"!==e.pt&&"video"!==e.pt||(e.pt="story"),-1===tmgAds.plugins.nativeads.config.exclude.indexOf(tmgAds.page.businessseg))&&(e.data.pagetype[e.pt]&&e.data.pagetype[e.pt].adverts.forEach((function(t){if(t.active&&(-1===t.exclude.indexOf(tmgAds.page.businessseg)&&t.include.indexOf(tmgAds.page.businessseg)>=0||0==t.exclude.length&&0==t.include)){var s=t.id,d=t.selector,i=t.position,a=t.poscount,n=t.list,o=t.viewports,r=t.style,m=document.querySelector(d);o.forEach((function(t){t===e.vp&&document.body.contains(m)&&tmgAdsNativeInject(d,i,a,s,n,r)}))}})))}function tmgAdsCreate(e){tmgAds.metrics.adStack.tmggpt_tmgAdsCreate=tmgAdsTimer();var t={};if(document.querySelector(".advert-banner")&&document.querySelector(".container-fluid")&&0==tmgAds.sticky){var s=document.querySelector(".advert-banner"),d=document.querySelector(".container-fluid");d.parentNode.insertBefore(s,d.nextSibling),s.style.paddingBottom="10px",s.style.borderBottom=0}tmgAds.sticky&&("ban"==tmgAds.config.deliveryModel.activityStatus||"mpu"==tmgAds.config.deliveryModel.activityStatus?("ban"==tmgAds.config.deliveryModel.activityStatus&&document.getElementsByClassName("js-advert-banner")[0]&&document.getElementsByClassName("js-advert-banner")[0].classList.add("is-sticky"),"mpu"==tmgAds.config.deliveryModel.activityStatus&&(-1==tmgAds.config.deliveryModel.exempt.indexOf("ban")?document.getElementsByClassName("js-advert-banner")[0]&&(document.getElementsByClassName("js-advert-banner")[0].style.display="none"):tmgAdsLog("Exempting ban slot from being collapsed as this has been added to the exempted as in tmgAds.config.deliveryModel.exempt"),"gallery"==tmgAds.page.pagetype?document.getElementsByClassName("article__sidebar-inner")[0]?document.getElementsByClassName("article__sidebar-inner")[0].classList.add("is-sticky"):document.getElementsByClassName("gallery__sidebar")[0].classList.add("is-sticky"):document.getElementsByClassName("js-sidebar")[0]&&document.getElementsByClassName("js-sidebar")[0].classList.add("is-sticky"))):console.log("NO MODEL TO SET ON THIS PAGE")),t.isLazyLoad=function(e,t){return tmgAds.plugins.lazyLoad[tmgAds.layout.viewport].active?null!==typeof tmgAds.dfp.customvars.geo&&(tmgAds.plugins.lazyLoad[tmgAds.layout.viewport].geo.indexOf(tmgAds.dfp.customvars.geo)>-1||0==tmgAds.plugins.lazyLoad[tmgAds.layout.viewport].geo.length)?tmgAds.plugins.lazyLoad[tmgAds.layout.viewport].channels.indexOf(tmgAds.dfp.site)>-1||0==tmgAds.plugins.lazyLoad[tmgAds.layout.viewport].channels.length?tmgAds.plugins.lazyLoad[tmgAds.layout.viewport].lazy.indexOf(e)>-1||tmgAds.plugins.lazyLoad[tmgAds.layout.viewport].lazy.indexOf("all")>-1?(tmgAdsLog("LazyLoad-Check: PASS: adtype -> "+e),!(tmgAds.plugins.lazyLoad[tmgAds.layout.viewport].exempt.indexOf(t)>-1)):(tmgAdsLog("LazyLoad-Check: FAIL: adtype -> "+e),!1):(tmgAdsLog("LazyLoad-Check: FAIL: site -> "+tmgAds.dfp.site,tmgAds.plugins.lazyLoad[tmgAds.layout.viewport].channels.indexOf(tmgAds.dfp.site)),!1):(tmgAdsLog("LazyLoad-Check: FAIL: geo -> "+tmgAds.dfp.customvars.geo),!1):(tmgAdsLog("LazyLoad-Check: FAIL: viewport -> "+tmgAds.layout.viewport),!1)},t.fetchAds=function(){for(var e=0;e<t.adverts.length;++e)t.adtype=t.adverts[e].id.split("_")[2],t.isLazyLoad(t.adtype,t.adverts[e].id)?tmgAdsElementInView(t.adverts[e],window,{top:tmgAds.plugins.lazyLoad[tmgAds.layout.viewport].offset}):tmgAdsRunPrebidAuctionAndCallAd(t.adverts[e].id,t.adtype)},t.adverts=tmgAdsGetAllAdSlots(),requestAnimationFrame((function(){t.fetchAds()}))}function tmgAdsObjSz(e){var t=0;if("object"==typeof e)if(Object.keys)t=Object.keys(e).length;else if(window._)t=_.keys(e).length;else if(window.$)t=$.map(e,(function(){return 1})).length;else for(var s in e)e.hasOwnProperty(s)&&t++;return t}function tmgAdsUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}function tmgAdsCreateDynamicAds(e){window.tmgAds.log("tmgAdsCreateDynamicAds: ","",!1);var t=e,s="tmgAdsCreateDynamicAds: ";if(tmgAds.plugins.dynamicads.active&&-1===tmgAds.plugins.dynamicads.exclude.indexOf(tmgAds.page.businessseg))for(var d in t)if(s="ADTECH: tmgAdsCreateDynamicAds: "+t[d].id,t[d].active&&t[d].cms.indexOf(tmgAds.page.cms)>-1&&(t[d].viewports.indexOf(tmgAds.layout.viewport)>=0||t[d].viewports.indexOf("all")>=0)&&(t[d].pagetypes.indexOf(tmgAds.page.pagetype)>=0||t[d].pagetypes.indexOf("all")>=0)&&(t[d].rendertypes.indexOf(tmgAds.page.dataLayer.pageType)>=0||t[d].rendertypes.indexOf("all")>=0)&&(t[d].storytypes.indexOf("all")>=0||t[d].storytypes.indexOf(tmgAds.page.storytype))&&(t[d].geo.include.indexOf(tmgAds.page.geo)>=0||t[d].geo.include.indexOf("all")>=0)&&-1===t[d].geo.exclude.indexOf(tmgAds.page.geo)&&(t[d].section.include.indexOf(tmgAds.page.site)>=0||t[d].section.include.indexOf("all")>=0)&&-1===t[d].section.exclude.indexOf(tmgAds.page.site))if(!t[d].testParam||window.location.search.indexOf(t[d].testParam)>=0){if(t[d].userstate.indexOf(tmgAds.tmg.userState)>=0||t[d].userstate.indexOf("all")>=0){var i=t[d].id,a=t[d].selector,n=t[d].position,o=t[d].poscount,r=t[d].list,m=(t[d].viewports,t[d].style);if(window.tmgAds.metrics.dynamicAds[i]={},window.tmgAds.metrics.dynamicAds[i].start=window.tmgAdsTimer(),window.tmgAds.metrics.dynamicAds[i].end=0,window.tmgAds.metrics.dynamicAds[i].latency=0,"function"==typeof a)a();else if("string"==typeof a&&document.querySelectorAll(a).length>=1){if(t[d].fullWidth){var g=document.createElement("div");g.id="advert_wrapper_"+i,g.className="grid-col grid-col-12 commercial-unit u-full-bleed",g.setAttribute("data-test","commercial-unit"),g.setAttribute("data-test","commercial-unit"),g.innerHTML='<div id="advert_title_'+i+'" class="advert-label">Advertisement</div>',"before"==n&&document.querySelectorAll(a)[0].insertAdjacentElement("beforebegin",g),"after"==n&&document.querySelectorAll(a)[0].insertAdjacentElement("afterbegin",g);var l=document.createElement("div");l.id="advert_tmg_"+i,l.className="advert advert--banner js-advert",l.setAttribute("data-test","advert"),l.setAttribute("data-adtype",i),document.querySelectorAll("#advert_title_"+i)[0].insertAdjacentElement("afterend",l)}else tmgAdsNativeInject(a,n,o,i,r,m);if(m.length>0){var p=document.createElement("style");p.innerHTML="#advert_tmg_"+i+" {"+m+"}";var u=document.querySelector("script");u.parentNode.insertBefore(p,u)}}window.tmgAds.metrics.dynamicAds[i].end=window.tmgAdsTimer(),window.tmgAds.metrics.dynamicAds[i].latency=window.tmgAds.metrics.dynamicAds[i].end-window.tmgAds.metrics.dynamicAds[i].start}}else console.log(s+' TESTPARAM - Slot requires ad-param to activate, set url param accordingly OR set ad-config for this slot to "false"  testParam->',t[d].testParam)}function tmgAdsGetYouTubeConfig(e){window.tmgAds.log("tmgAdsGetYouTubeConfig: ",e);var t=tmgAds.dfp.customvars;t.at="vid",console.log("ADTECH: tmgAdsGetYouTubeConfig() - params",t);var s={adsConfig:{adTagParameters:{iu:tmgAds.dfp.adunit,cust_params:encodeURIComponent(JSON.stringify(t)),description_url:encodeURIComponent(tmgAds.page.url),npa:!0}}};return tmgAds.plugins.gpt.useppid&&void 0!==tmgAds.tmg.pid&&(s.adsConfig.adTagParameters.ppid=tmgAds.tmg.pid),s}function tmgAdsFormatAds(){window.tmgAds.log("tmgAdsFormatAds: ");var e={ads:document.getElementsByClassName("js-advert"),targets:["lmpu","bin"],adtype:{}};for(i=0;i<e.ads.length;i++)e.thisad=e.ads[i].id.split("_"),-1!=e.targets.indexOf(e.thisad[2])&&(void 0===e.adtype[e.thisad[2]]?e.adtype[e.thisad[2]]=0:++e.adtype[e.thisad[2]],e.ads[i].id=e.thisad[0]+"_"+e.thisad[1]+"_"+e.thisad[2]+"_"+e.thisad[3]);delete e.thisad}function tmgAdsRemoveElement(e){window.tmgAds.log("tmgAdsRemoveElement: ",e);var t=document.getElementById(e);t.parentNode.removeChild(t)}function tmgAdsGetAllAdSlots(){return document.getElementsByClassName("js-advert")}function tmgadsGetPageData(e){window.tmgAds.log("tmgadsGetPageData: ",e);let t=new Array;for(let t in e)s(t,e[t]);function s(e,s){let d=[],i=[{obj:s,stack:""}];for(;i.length>0;){let s=i.shift(),a=s.obj;for(let n in a)if(a.hasOwnProperty(n))if("object"==typeof a[n]&&Object.keys(a[n]).length>0){let e=!1;for(let t=0;t<d.length;t++)if(d[t]===a[n]){e=!0;break}e||(d.push(a[n]),i.push({obj:a[n],stack:s.stack+"_"+n}))}else t.push(e+s.stack+"_"+n)}}return t}function tmgAdsApplyAdLite(){return window.tmgAds.log("tmgAdsApplyAdLite: "),!0===tmgAds.tmg.isAdLite&&!0===tmgAds.tmg.isLoggedIn?(tmgAdsLog("tmgAdsApplyAdLite: AdLite -> ACTIVE and LOGGED-IN"),window.tmgAds.plugins.prebid.domains=["none"],tmgAdsLog("tmgAdsApplyAdLite: AdLite -> Deactivating 3rd party - tmgAds.plugins.prebid.active"),window.tmgAds.plugins.adSlotRefresh.active=!1,tmgAdsLog("tmgAdsApplyAdLite: AdLite -> Stopping MPU from being auto-refreshed",window.tmgAds.plugins.exemptAdSlots),!0):(!0===tmgAds.tmg.isAdLite&&!1===tmgAds.tmg.isLoggedIn?tmgAdsLog("tmgAdsApplyAdLite: AdLite -> FAIL - User is Subscriber eligible for AdLite BUT is not Logged-In:  tmgAds.tmg.isAdLite="+tmgAds.tmg.isAdLite+"  tmgAds.tmg.isLoggedIn="+tmgAds.tmg.isLoggedIn):tmgAdsLog("tmgAdsApplyAdLite: AdLite -> FAIL - tmg.user.isAdLite=",tmgAds.tmg.isAdLite),!1)}function tmgAdsAdLiteStyling(e,t,s,d,i){if("14636214"==e)window.tmgAds.log("ADTECH-FIKRET: ADVERTISER IS ADMIN - DO NOTHING");else{window.tmgAds.log("ADTECH-FIKRET: ADVERTISER ID = "+e);var a=document.querySelectorAll("[data-ad-slot-id='"+s+"']")[0];"bin"==t?(a.style.display="block",a.classList.remove("commercial-unit--adlite")):"xs"==d&&"homepagerenderer"==i&&"mpu"==t||"s"==d&&"homepagerenderer"==i&&"mpu"==t?a.classList.remove("packages__advert--adlite"):"articlerenderer"==i&&"mpu"==t&&(a.style.display="flex",a.classList.remove("commercial-unit--adlite")),window.tmg&&window.tmg.pubsub&&window.tmg.pubsub.publishedTopics&&-1==window.tmg.pubsub.publishedTopics.indexOf("tmg.ads.adlite.premium")?(window.tmg.pubsub.publish({topic:"tmg.ads.adlite.premium"}),window.tmgAds.log("ADTECH: PASS -> publishing tmg.pubsub.publish"),window.tmgAds.log("PUBSUB: tmg.ads.adlite.premium - issued")):window.tmgAds.log("PUBSUB: tmg.ads.adlite.premium - ERROR - no tmg.pubsub")}}function tmgAdsAmendDynMPUConfig(e){var t="tmgAdsAmendDynMPUConfig: ",s="===========================================================================================";window.tmgAds.log(t,e,!0);var d={params:{firstAd:window.tmgAdsGetURLParamValue("firstAd"),minParaChars:window.tmgAdsGetURLParamValue("minParaChars"),otherAd:window.tmgAdsGetURLParamValue("otherAd"),maxAds:window.tmgAdsGetURLParamValue("maxAds")},adSlotsOld:[],adSlotsNew:[],adCountOld:0,adCountNew:0,pageTypes:["live","story","video"],viewports:["x","l","m","s","xs"],geo:e.dfp.customvars.geo,pt:e.dfp.customvars.pt,vp:e.dfp.customvars.vp,platform:null,thisConf:null};if(!0===e.page.combinedApp?d.platform="app":d.platform="web",d.thisConf=e.plugins.dynad.config[d.platform],"null"==d.params.firstAd?d.params.firstAd=d.thisConf[d.pt][d.vp].firstAd:d.params.firstAd=parseInt(d.params.firstAd),"null"==d.params.minParaChars?d.params.minParaChars=d.thisConf[d.pt][d.vp].minParaChars:d.params.minParaChars=parseInt(d.params.minParaChars),"null"==d.params.otherAd?d.params.otherAd=d.thisConf[d.pt][d.vp].otherAd:d.params.otherAd=parseInt(d.params.otherAd),"null"==d.params.maxAds?d.params.maxAds=d.thisConf[d.pt][d.vp].maxAds:d.params.maxAds=parseInt(d.params.maxAds),e.log(t+s,"",!0),-1!=d.pageTypes.indexOf(d.pt)){for(ad of(e.log(t+"Geo-Location       = "+d.geo,"",!0),e.log(t+"PageType           = "+d.pt,"",!0),e.log(t+"Viewport           = "+d.vp,"",!0),e.log(t+"User isAnon        = "+e.tmg.isAnon,"",!0),e.log(t+"User isLoggedIn    = "+e.tmg.isLoggedIn,"",!0),e.log(t+"User isRegistered  = "+e.tmg.isRegistered,"",!0),e.log(t+"User isSubscriber  = "+e.tmg.isSubscriber,"",!0),e.log(t+"User isAdLite      = "+e.tmg.isAdLite,"",!0),e.log(t+s,"",!0),e.log(t+"Ad-Rules           Default             New            Diff","",!0),e.log(t+"firstAd         "+String(d.thisConf[d.pt][d.vp].firstAd).padStart(10," ")+"      "+String(d.params.firstAd).padStart(10," ")+"      "+String(d.params.firstAd-d.thisConf[d.pt][d.vp].firstAd).padStart(10," "),"",!0),e.log(t+"minParaChars    "+String(d.thisConf[d.pt][d.vp].minParaChars).padStart(10," ")+"      "+String(d.params.minParaChars).padStart(10," ")+"      "+String(d.params.minParaChars-d.thisConf[d.pt][d.vp].minParaChars).padStart(10," "),"",!0),e.log(t+"otherAd         "+String(d.thisConf[d.pt][d.vp].otherAd).padStart(10," ")+"      "+String(d.params.otherAd).padStart(10," ")+"      "+String(d.params.otherAd-d.thisConf[d.pt][d.vp].otherAd).padStart(10," "),"",!0),e.log(t+"maxAds          "+String(d.thisConf[d.pt][d.vp].maxAds).padStart(10," ")+"      "+String(d.params.maxAds).padStart(10," ")+"      "+String(d.params.maxAds-d.thisConf[d.pt][d.vp].maxAds).padStart(10," "),"",!0),tmgAdsGetAllAdSlots()))"advert_tmg_dyn"==ad.id.substring(0,14)&&d.adSlotsOld.push(ad.id+"_container");for(ad of(e.log(t+s,"",!0),e.log(t+"Original config created "+d.adSlotsOld.length+" DynamicMPUs","",!0),d.adSlotsOld.length==d.thisConf[d.pt][d.vp].maxAds&&e.log(t+"Original config Max Ads were injected into this page = "+d.thisConf[d.pt][d.vp].maxAds,"",!0),d.adSlotsOld))document.getElementById(ad)&&document.getElementById(ad).remove();for(const[e,t]of Object.entries(d.params))"null"!=d.params[e]&&(d.thisConf[d.pt][d.vp][e]=t);for(rule of tmgAds.plugins.dynamicads.ads)"dynamic_mpus"!=rule.id||"articleRenderer"!=e.page.rendererType&&"articleRenderer2"!=e.page.rendererType||(e.log(t+"Applying new config",d.thisConf[d.pt][d.vp],"",!0),rule.selector()),"liveblogs_2022"==rule.id&&"liveBlogRenderer"==e.page.rendererType&&(e.log(t+"Applying new config",d.thisConf[d.pt][d.vp],"",!0),rule.selector());for(ad of tmgAdsGetAllAdSlots())"advert_tmg_dyn"==ad.id.substring(0,14)&&d.adSlotsNew.push(ad.id+"_container");e.log(t+"New config created "+d.adSlotsNew.length+" DynamicMPUs","",!0),d.adSlotsNew.length==d.thisConf[d.pt][d.vp].maxAds&&e.log(t+"New config Max Ads hit limit = "+d.thisConf[d.pt][d.vp].maxAds,"",!0),d.adSlotsNew.length-d.adSlotsOld.length>=0?e.log(t+"New rules ADDED "+(d.adSlotsNew.length-d.adSlotsOld.length)+" DynamicMPUs = "+Math.round((d.adSlotsNew.length-d.adSlotsOld.length)/d.adSlotsOld.length*100)+"%","",!0):e.log(t+"New rules REMOVED "+(d.adSlotsNew.length-d.adSlotsOld.length)+" DynamicMPUs = "+Math.round((d.adSlotsNew.length-d.adSlotsOld.length)/d.adSlotsOld.length*100)+"%","",!0),e.log(t+s)}else e.log(t+"Pagetype is NOT supported","",!0),e.log(t+s,"",!0);e.log(t+s,"",!0)}function tmgAdsRunAppQaPerf(){window.tmgAds.log("tmgAdsRunAppQaPerf: Measuring App Performance","",!0);for(var e={url:document.location.href,domInteractive:-1,domContentLoadedEventEnd:-1,domContentLoadedEventStart:-1,domComplete:-1,duration:-1,userPid:window.tmg.user.getPublicId(),pageChannel:tmgAdsGetMetaTag("tmgads.channel"),pageType:tmgAdsGetMetaTag("tmgads.pagetype"),pageRenderer:window.dataLayer.pageType,endPoint:""},t=0;t<window.performance.getEntries().length;t++){var s=window.performance.getEntries()[t];if("navigation"==s.entryType){e.domInteractive=Math.round(s.domInteractive),e.domContentLoadedEventEnd=Math.round(s.domContentLoadedEventEnd),e.domContentLoadedEventStart=Math.round(s.domContentLoadedEventStart),e.domComplete=Math.round(s.domComplete),e.duration=Math.round(s.duration),e.endPoint="https://docs.google.com/forms/d/e/1FAIpQLSf9ckaENbq7WO7k8fXbDWMkrUSO11jzWYbEz-MlwVa_fyHVvQ/formResponse?&entry.1430839376="+e.url+"&entry.1483858513="+e.domInteractive+"&entry.674386137="+e.domContentLoadedEventStart+"&entry.1246425156="+e.domContentLoadedEventEnd+"&entry.572471174="+e.domComplete+"&entry.538168225="+e.duration+"&entry.1429525652="+e.pageChannel+"&entry.2063588426="+e.pageType+"&entry.2093901170="+e.pageRenderer+"&entry.1151284796="+e.userPid+"&submit=SUBMIT";var d=document.createElement("img");d.src=e.endPoint,d.id="ADTECH_PERFORMANCE_MONTIOR",d.style="display:none",document.getElementsByClassName("app-site-header")[0].appendChild(d)}}}function tmgdsStackAnalyser(){var e={endPointURL:"https://www.adtools.co.uk//tools/tmg/ingest/",method:"POST",status:[],data:window.tmgAds.metrics};e.data.about={datetime:Date(),url:window.location.href,userAgent:window.navigator.userAgent,geo:window.tmgAds.page.geo,viewport:window.tmgAds.page.vp,pageType:window.tmgAds.page.pagetype,rendererType:window.tmgAds.page.renderertype,instanceId:window.tmgAds.page.instanceId,isAdLite:window.tmgAds.tmg.isAdLite,isAnon:window.tmgAds.tmg.isAnon,isLoggedIn:window.tmgAds.tmg.isLoggedIn,isRegistered:window.tmgAds.tmg.isRegistered,isSubscriber:window.tmgAds.tmg.isSubscriber,subsType:window.tmgAds.tmg.subsType,userState:window.tmgAds.tmg.userState,pid:window.tmgAds.tmg.pid};var t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");t.onreadystatechange=function(){console.info("["+window.tmgAdsTimer()+"] tmgdsStackAnalyser: status = "+t.status+"  readyState="+t.readyState)},t.open(e.method,e.endPointURL,!1),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send("data="+JSON.stringify(e.data))}window.tmgAds=window.tmgAds||{},window.tmgAds.about={version:"11.00.02",date:"2022-10-26",company:"Telegraph Media Group",author:"Sean Dillon - sean@telegraph.co.uk"},window.tmgAds.cmd=window.tmgAds.cmd||[],window.tmgAds.logs=window.tmgAds.logs||[],window.tmgAds.log=window.tmgAds.log||function(e="EMPTY",t=null,s=!1){var d=window.tmgAdsTimer();window.location.href.indexOf("adsDebugLog")>=0||s?(window.tmgAds.logs.push([d,e,t]),console.info("["+d+"]",e,t)):window.tmgAds.logs.push([d,e,t])},window.tmgAds.cmp=window.tmgAds.cmp||{loaded:!1,loadStatus:"unset",purposes:"unset",categories:"unset",vendors:"unset",cookies:"unset",onMessageReady:!1,onMessageReceiveData:!1,onConsentReady:!1},window.tmgAds.dfp=window.tmgAds.dfp||{},window.tmgAds.adobe=window.tmgAds.adobe||{},window.tmgAds.sticky=window.tmgAds.sticky||!1,window.tmgAds.performance=window.tmgAds.performance||{},window.tmgAds.metrics=window.tmgAds.metrics||{},window.tmgAds.metrics.ads=window.tmgAds.metrics.ads||{},window.tmgAds.metrics.adStack=window.tmgAds.metrics.adStack||{},window.tmgAds.metrics.prebid=window.tmgAds.metrics.prebid||{},window.tmgAds.metrics.dynamicAds=window.tmgAds.metrics.dynamicAds||{},window.tmgAds.metrics.events=window.tmgAds.metrics.events||{},window.tmgAds.metrics.cmp=window.tmgAds.metrics.cmp||{},window.tmgAds.grapeshot=window.tmgAds.grapeshot||{raw:"",dfp:["status_unset"]},window.tmgAds.ads=window.tmgAds.ads||{},window.tmgAds.adslots=window.tmgAds.adslots||{},window.tmgAds.metatags=window.tmgAds.metatags||{},window.tmgAds.refreshTimers=window.tmgAds.refreshTimers||{},window.tmgAds.prodServers=window.tmgAds.prodServers||["qa3.telegraph.co.uk","qa2.telegraph.co.uk","www.telegraph.co.uk","books.telegraph.co.uk","shop.telegraph.co.uk","dating.telegraph.co.uk","gardenshop.telegraph.co.uk","tickets.telegraph.co.uk","puzzles.telegraph.co.uk","fantasyfootball.telegraph.co.uk","corporate.telegraph.co.uk","telegraph.newsprints.co.uk","announcements.telegraph.co.uk","jobs.telegraph.co.uk"],window.tmgAds.appServers=window.tmgAds.appServers||["app.telegraph.co.uk"],window.tmgAds.mytelegraph=window.tmgAds.mytelegraph||null,window.tmgAds.mytelegraph=window.tmgAds.mytelegraph||null,window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag=window.googletag||{cmd:[]},"function"!=typeof __tcfapi&&function(){var e=function(){for(var e,t="__tcfapiLocator",s=[],d=window;d;){try{if(d.frames[t]){e=d;break}}catch(e){}if(d===window.top)break;d=d.parent}e||(function e(){var s=d.document,i=!!d.frames[t];if(!i)if(s.body){var a=s.createElement("iframe");a.style.cssText="display:none",a.name=t,s.body.appendChild(a)}else setTimeout(e,5);return!i}(),d.__tcfapi=function(){for(var e,t=arguments.length,d=new Array(t),i=0;i<t;i++)d[i]=arguments[i];if(!d.length)return s;if("setGdprApplies"===d[0])d.length>3&&2===parseInt(d[1],10)&&"boolean"==typeof d[3]&&(e=d[3],"function"==typeof d[2]&&d[2]("set",!0));else if("ping"===d[0]){var a={gdprApplies:e,cmpLoaded:!1,cmpStatus:"stub"};"function"==typeof d[2]&&d[2](a)}else s.push(d)},d.addEventListener("message",(function(e){var t="string"==typeof e.data,s={};try{s=t?JSON.parse(e.data):e.data}catch(e){}var d=s.__tcfapiCall;d&&window.__tcfapi(d.command,d.version,(function(s,i){var a={__tcfapiReturn:{returnValue:s,success:i,callId:d.callId}};t&&(a=JSON.stringify(a)),e.source.postMessage(a,"*")}),d.parameter)}),!1))};"undefined"!=typeof module?module.exports=e:e()}(),function(){if("function"==typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var s=document.createEvent("CustomEvent");return s.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),s}e.prototype=window.Event.prototype,window.CustomEvent=e}(),0==document.location.pathname.indexOf("/_mytelegraph/")&&(window.tmgAds.log("ADMIN: my.telegraph.co.uk - adding tmg.pubsub polyfill"),function(e){function t(t){for(var d,i,o=t[0],r=t[1],m=t[2],l=0,p=[];l<o.length;l++)i=o[l],a[i]&&p.push(a[i][0]),a[i]=0;for(d in r)Object.prototype.hasOwnProperty.call(r,d)&&(e[d]=r[d]);for(g&&g(t);p.length;)p.shift()();return n.push.apply(n,m||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],i=!0,o=1;o<s.length;o++)0!==a[s[o]]&&(i=!1);i&&(n.splice(t--,1),e=d(d.s=s[0]))}return e}function d(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,d),s.l=!0,s.exports}var i={},a={1:0},n=[];d.m=e,d.c=i,d.d=function(e,t,s){d.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},d.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(d.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)d.d(s,i,function(t){return e[t]}.bind(null,i));return s},d.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="";var o=window["tmg.build"]=window["tmg.build"]||[],r=o.push.bind(o);o.push=t,o=o.slice();for(var m=0;m<o.length;m++)t(o[m]);var g=r;s()}([]),(window["tmg.build"]=window["tmg.build"]||[]).push([[0],{0:function(e,t,s){var d,i;void 0===(i="function"==typeof(d=function(e){Object.defineProperty(e,"__esModule",{value:!0}),window.tmg=window.tmg||{};var t=function(e){try{var t=tmg,s=e.split(".");return"tmg"===s[0]&&(s=s.slice(1)),s.forEach((function(e){void 0===t[e]&&(t[e]={}),t=t[e]})),t}catch(t){console.warn("couldn't create namespace:",e)}};window.tmg.createNamespace=t,e.default={create:t}})?d.apply(t,[t]):d)||(e.exports=i)},1:function(e,t,s){var d,i;s=[t,s(0)],void 0===(i="function"==typeof(d=function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),t=t&&t.__esModule?t:{default:t};var s=function(){function e(e,t){for(var s=0;s<t.length;s++){var d=t[s];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(e,d.key,d)}}return function(t,s,d){return s&&e(t.prototype,s),d&&e(t,d),t}}(),d=new(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.topics=[],this.publishedTopics=[],this.UID=-1}return s(e,[{key:"subscribe",value:function(e){var t=e.topic,s=e.func;if("function"!=typeof s)return!1;if(e.runIfAlreadyPublished)for(e=0;e<this.publishedTopics.length;e++)this.publishedTopics[e]===t&&s.call();return e=(this.UID+=1).toString(),this.topics.push({token:e,topic:t,func:s}),e}},{key:"unsubscribe",value:function(e){e=e.topic;for(var t=0;t<this.topics.length;t++)this.topics[t].topic===e&&this.topics.splice(t,1)}},{key:"publish",value:function(e){e=e.topic,this.publishedTopics.push(e);for(var t=0;t<this.topics.length;t++)this.topics[t].topic===e&&this.topics[t].func.call()}}]),e}());t.default.create("tmg.pubsub"),window.tmg.pubsub=d,e.default=d})?d.apply(t,s):d)||(e.exports=i)},64:function(e,t,s){var d,i;s=[t,s(0),s(1)],void 0===(i="function"==typeof(d=function(e,t,s){Object.defineProperty(e,"__esModule",{value:!0}),e.default={namespace:(t&&t.__esModule?t:{default:t}).default,pubsub:(s&&s.__esModule?s:{default:s}).default}})?d.apply(t,s):d)||(e.exports=i)}}]),(window["tmg.build"]=window["tmg.build"]||[]).push([[10],[],[[64,1,0]]])),document.addEventListener("readystatechange",(function(e){window.tmgAds.log("PAGE: readystatechange = "+document.readyState),window.tmgAds.metrics.adStack["page_readyState_"+document.readyState]=window.tmgAdsTimer()})),document.addEventListener("DOMContentLoaded",(function(e){window.tmgAds.log("PAGE: DOMContentLoaded"),window.tmgAds.metrics.adStack.page_DOMContentLoaded=window.tmgAdsTimer()})),window.addEventListener("load",(function(e){window.tmgAds.log("PAGE: load"),window.tmgAds.metrics.adStack.page_load=window.tmgAdsTimer()})),window.tmgAdsLoadAsset=function(e){function t(){var e=!1;return e=void 0!==window.RUM&&void 0!==window.RUM.now?window.RUM.now():void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now(),parseFloat(e.toFixed(0))}function s(e){window.tmgAds.metrics.vendors=window.tmgAds.metrics.vendors||{},window.tmgAds.metrics.vendors[e.name]=window.tmgAds.metrics.vendors[e.name]||{},window.tmgAds.metrics.vendors[e.name]=e.performance}e.performance={status:"init",init:t(),requested:0,received:0,preload:0,error:-1,timeout:-1,latency:0},e.location=e.location||"BODY",e.async=e.async||!0,e.eventTitle="tmg.ads."+e.name,!0===e.active?"js"==e.type?e.domains.indexOf(window.location.host)>=0||e.domains.indexOf("all")>=0?(e.timeoutProc=setTimeout((function(){tmgAdsLog("tmgAdsLoadAsset: "+e.name+" -> timeout executing -> obj = ",e),e.status=e.performance.status="timeout",e.performance.timeout=t(),e.timeoutFn(),e.performance.latency=e.performance.timeout-e.performance.init,s(e),window.tmg.pubsub.publish({topic:e.eventTitle+".timeout"}),window.tmg.pubsub.publish({topic:e.eventTitle+".complete"})}),e.timeout),e.performance.preload=t(),e.preloadFn(),e.tag=document.createElement("script"),e.tag.type="text/javascript",e.tag.id=e.id||e.name,e.tag.async=e.async,e.tag.onload=function(){-1===window.tmg.pubsub.publishedTopics.indexOf("tmg.ads."+e.name+".timeout")&&(tmgAdsLog("tmgAdsLoadAsset: "+e.name+" -> tmg.ads."+e.name+".timeout="+tmg.pubsub.publishedTopics.indexOf("tmg.ads."+e.name+".timeout")+" - onload()"),clearTimeout(e.timeoutProc),e.status=e.performance.status="loaded",e.performance.received=t(),e.performance.latency=e.performance.received-e.performance.init,e.onloadFn(),s(e),window.tmg.pubsub.publish({topic:e.eventTitle+".load"}),window.tmg.pubsub.publish({topic:e.eventTitle+".complete"}))},e.tag.onerror=function(d){tmgAdsLog("tmgAdsLoadAsset: "+e.name+" -> onerror(err)",d),-1===window.tmg.pubsub.publishedTopics.indexOf("tmg.ads."+e.name+".timeout")&&(tmgAdsLog("tmgAdsLoadAsset: "+e.name+" -> tmg.ads."+e.name+".timeout="+window.tmg.pubsub.publishedTopics.indexOf("tmg.ads."+e.name+".timeout")+" -> onerror(err)",d),clearTimeout(e.timeoutProc),e.status=e.performance.status="error",e.performance.error=t(),e.performance.latency=e.performance.error-e.performance.init,e.onerrorFn(d),s(e),window.tmg.pubsub.publish({topic:e.eventTitle+".error"}),window.tmg.pubsub.publish({topic:e.eventTitle+".complete"}))},e.url?(e.tag.src=e.url,e.status=e.performance.status="requested",e.performance.requested=t(),document.getElementsByTagName(e.location)[0].appendChild(e.tag)):tmgAdsLog("tmgAdsLoadAsset: "+e.name+" - url = NOT DEFINED",e)):window.tmg.pubsub.publishedTopics.indexOf("tmg.ads."+e.name+".timeout"===-1)&&(tmgAdsLog("tmgAdsLoadAsset: "+e.name+" - domain NOT matched -> ignoreFn()","Domain:"+window.location.host,"Supported domains = ",e.domains),clearTimeout(e.timeoutProc),e.status=e.performance.status="ignore",e.performance.ignore=t(),e.performance.latency=e.performance.ignore-e.performance.init,s(e),window.tmg.pubsub.publish({topic:e.eventTitle+".ignore"}),window.tmg.pubsub.publish({topic:e.eventTitle+".complete"}),e.ignoreFn()):tmgAdsLog("tmgAdsLoadAsset: "+e.name+" - Asset is NOT Javascript",e):(e.status="inactive",tmgAdsLog("tmgAdsLoadAsset: "+e.name+" - Asset is INACTIVE",e),window.tmg.pubsub.publish({topic:e.eventTitle+".inactive"}),window.tmg.pubsub.publish({topic:e.eventTitle+".complete"}),e.ignoreFn())},-1==window.location.href.indexOf("adsDisableStack")?function(e){tmgAdsLog("##############################################################################"),tmgAdsLog("#                        TMG-GPT.JS  INITIALISATION                          #"),tmgAdsLog("##############################################################################"),tmgAdsInitAdminEventHandlers(),tmgAdsInit(),tmgAdsInitConfig(),tmgAdsInitGeoAPIStatus(),tmgAdsInitData(),window.tmgCMP||window._tmgAdsCmpLibVer?(tmgAdsLog("ADTECH: tmgCMP exists - tmgAds.cmp.loaded=true"),e.cmp.loaded=e.metrics.cmp.loaded=!0):tmgAdsLog("ADTECH: WARNING!!! - CMP not loaded, load this dynamically from tmg-gpt.js"),e.cmp.loaded||(e.plugins.sourcepoint={name:"sourcepoint",active:!1,status:"init",type:"js",url:"https://static.telegraph.co.uk/telegraph-advertising/tmg-cmp.min.js",location:"BODY",domains:["all"],timeout:5e3,preloadFn:function(){},onloadFn:function(){},timeoutFn:function(){},onerrorFn:function(){},ignoreFn:function(){}},tmgAdsLoad(e.plugins.sourcepoint),console.log("SOURCEPOINT: firing manually as tmg-cmp.js is not in this page")),tmg.pubsub.subscribe({topic:"tmg.page.ready",func:function(){tmg.pubsub.unsubscribe({topic:"tmg.page.ready"}),e.metrics.adStack.pubsub_tmg_page_ready=e.metrics.events.pubsub_tmg_page_ready=tmgAdsTimer(),tmgAdsApplyAdLite(),tmg.pubsub.subscribe({topic:"tmg.cmp.onConsentReady",func:function(){tmg.pubsub.unsubscribe({topic:"tmg.cmp.onConsentReady"}),e.metrics.adStack.pubsub_tmg_cmp_onConsentReady=e.metrics.events.pubsub_tmg_cmp_onConsentReady=tmgAdsTimer(),window.location.search.indexOf("tmgAdsShowPlaceholderAds")>=0&&(e.config.productionAds=!1,console.log("ADTECH: tmgAds.config.tmgAdsShowPlaceholderAds set")),window.location.search.indexOf("tmgAdsShowProductionAds")>=0&&(e.config.productionAds=!0,console.log("ADTECH: tmgAds.config.tmgAdsShowProductionAds set")),-1!==window.tmgAds.appServers.indexOf(window.location.hostname)&&(window.tmgAds.plugins.prebid.active=!1),tmgAdsInitDeliveryModel(),tmgAdsOnPageLoad(),tmgAdsCreateDynamicAds(window.tmgAds.plugins.dynamicads.ads),tmgAdsFormatAds(),tmgAdsInitDFP(),tmgAdsLoadAsset(e.plugins.gpt),tmgAdsLoadAsset(e.plugins.grapeshot),tmg.pubsub.subscribe({topic:"tmg.ads.grapeshot.complete",func:function(){e.metrics.adStack.pubsub_tmg_ads_grapeshot_complete=e.metrics.events.pubsub_tmg_ads_grapeshot_complete=tmgAdsTimer(),tmgAdsLoadAsset(e.plugins.permutive)},runIfAlreadyPublished:!0}),tmg.pubsub.subscribe({topic:"tmg.ads.permutive.complete",func:function(){e.metrics.adStack.pubsub_tmg_ads_permutive_complete=e.metrics.events.pubsub_tmg_ads_permutive_complete=tmgAdsTimer(),-1!==window.tmgAds.prodServers.indexOf(window.location.hostname)?tmgAdsLoadAsset(e.plugins.prebid):-1!==window.tmgAds.appServers.indexOf(window.location.hostname)?(tmgAdsInitDFP(),-1===tmg.pubsub.publishedTopics.indexOf("tmg.ads.page.ready")&&tmg.pubsub.publish({topic:"tmg.ads.page.ready"})):(e.log("PERMUTIVE: domain not matched as prodServers or appServers"),-1===tmg.pubsub.publishedTopics.indexOf("tmg.ads.page.ready")&&tmg.pubsub.publish({topic:"tmg.ads.page.ready"}))},runIfAlreadyPublished:!0}),tmg.pubsub.subscribe({topic:"tmg.ads.prebid.complete",func:function(){e.metrics.adStack.pubsub_tmg_ads_prebid_complete=e.metrics.events.pubsub_tmg_ads_prebid_complete=tmgAdsTimer(),tmgAdsInitDFP(),-1===tmg.pubsub.publishedTopics.indexOf("tmg.ads.page.ready")&&tmg.pubsub.publish({topic:"tmg.ads.page.ready"})},runIfAlreadyPublished:!0}),tmg.pubsub.subscribe({topic:"tmg.ads.page.ready",func:function(){tmg.pubsub.unsubscribe({topic:"tmg.ads.page.ready"}),e.metrics.adStack.pubsub_tmg_ads_page_ready=e.metrics.events.pubsub_tmg_ads_page_ready=tmgAdsTimer(),googletag.hasOwnProperty("enableServices")?googletag.enableServices():tmgAdsLog("ALERT: googletag.enableServices() does not exist fire later"),tmgAdsInitGPTEventHandlers(),(tmgAdsGetURLParam("firstAd")||tmgAdsGetURLParam("minParaChars")||tmgAdsGetURLParam("otherAd")||tmgAdsGetURLParam("minChars")||tmgAdsGetURLParam("maxAds"))&&tmgAdsAmendDynMPUConfig(window.tmgAds),tmgAdsCreate("Initial call after CMP/3rd-Parties/Prebid have loaded."),document.addEventListener("readystatechange",(function(e){"complete"==document.readyState&&("qa-app.telegraph.co.uk"!=document.location.host&&"qa3-app.telegraph.co.uk"!=document.location.host&&"staging-ams64-app.telegraph.co.uk"!=document.location.host||setTimeout((function(){tmgAdsRunAppQaPerf()}),1e3))}))},runIfAlreadyPublished:!0})},runIfAlreadyPublished:!0})},runIfAlreadyPublished:!0})}(tmgAds):(console.info("ADTECH: AdStack has been DISABLED"),document.addEventListener("readystatechange",(function(e){"complete"==document.readyState&&("qa-app.telegraph.co.uk"!=document.location.host&&"qa3-app.telegraph.co.uk"!=document.location.host&&"staging-ams64-app.telegraph.co.uk"!=document.location.host||setTimeout((function(){tmgAdsRunAppQaPerf()}),1e3))})));