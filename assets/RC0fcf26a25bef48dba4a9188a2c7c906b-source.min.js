// For license information, see `https://assets.adobedtm.com/bb77750356fd/42bfe6bcc850/217d3bbfbcf3/RC0fcf26a25bef48dba4a9188a2c7c906b-source.js`.
_satellite.__registerScript('https://assets.adobedtm.com/bb77750356fd/42bfe6bcc850/217d3bbfbcf3/RC0fcf26a25bef48dba4a9188a2c7c906b-source.min.js', "\"true\"==webSDKSwitch&&window.addEventListener(\"message\",(function(e){try{var a=JSON.parse(e.data);if(a.name&&/^investment\\-|^inheritance\\-|^tmg\\-/i.test(a.name)){var t=a.name.toLowerCase();if(/^tmg-spark-/i.test(t)&&a.data&&a.data.eVar)switch(t){case\"tmg-spark-interactive\":sparkInteractive=a.data.eVar,eventContainer={},eventNameKey=\"sparkInteractive\",eventContainer[eventNameKey]=1,window.adobeDataLayer.push({ruleName:\"TMG Embedded forms\",event:\"sparkInteractive\",_tmg:{eventContainer:eventContainer,dimensionContainer:{sparkInteractive:sparkInteractive}}}),xdmData=_satellite.getVar(\"ACDL Computed State\"),alloy(\"sendEvent\",{xdm:xdmData}),_satellite.getVar(\"Reset Adobe Client Data Layer\"),adobeDataLayer[0]._tmg.eventContainer={};break;case\"tmg-spark-timerpoint\":sparkTimer=a.data.eVar,eventContainer={},eventNameKey=\"sparkPageTimerEvent\",eventContainer[eventNameKey]=1,window.adobeDataLayer.push({ruleName:\"TMG Embedded forms\",event:\"sparkPageTimerEvent\",_tmg:{eventContainer:eventContainer,dimensionContainer:{sparkTimer:sparkTimer}}});break;case\"tmg-spark-timerpageload\":break;case\"tmg-spark-wayin\":wayinFormName=a.data.eVar,eventContainer={},eventNameKey=\"wayinFormComplete\",eventContainer[eventNameKey]=1,window.adobeDataLayer.push({ruleName:\"TMG Embedded forms\",event:\"wayinFormComplete\",_tmg:{eventContainer:eventContainer,dimensionContainer:{wayinFormName:wayinFormName}}}),xdmData=_satellite.getVar(\"ACDL Computed State\"),alloy(\"sendEvent\",{xdm:xdmData}),_satellite.getVar(\"Reset Adobe Client Data Layer\"),adobeDataLayer[0]._tmg.eventContainer={}}else onSiteSearchInfo=\"\",bookedLocation=\"\",errorMessage=\"\",formName=t,a.data&&(a.data.postCode?onSiteSearchInfo=a.data.postCode:a.data.location?bookedLocation=a.data.location:a.data.error?errorMessage=a.data.error:a.data.transactionID),eventContainer={},eventNameKey=\"formSubmit\",eventContainer[eventNameKey]=1,window.adobeDataLayer.push({ruleName:\"TMG Embedded forms\",event:\"formSubmit\",_tmg:{eventContainer:eventContainer,dimensionContainer:{formName:formName,onSiteSearchInfo:onSiteSearchInfo,bookedLocation:bookedLocation,paymentError:errorMessage}}}),xdmData=_satellite.getVar(\"ACDL Computed State\"),alloy(\"sendEvent\",{xdm:xdmData}),_satellite.getVar(\"Reset Adobe Client Data Layer\"),adobeDataLayer[0]._tmg.eventContainer={}}}catch(e){}}));");